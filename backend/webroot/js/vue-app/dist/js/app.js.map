{"version":3,"file":"js/app.js","mappings":"oJACEA,EAAAA,EAAAA,IAAYC,E,UCAPC,MAAM,kB,oKAAXC,EAAAA,EAAAA,GAIM,MAJNC,EAIM,EAHJC,EAAAA,EAAAA,IAA6BC,EAAA,CAAlBC,SAAU,OAAI,eACMC,SAASC,EAAAC,gBAAY,WAApDV,EAAAA,EAAAA,IAAyDW,EAAA,CAAAC,IAAA,qBACzB,QAAhBH,EAAAC,eAAY,WAA5BV,EAAAA,EAAAA,IAA0Ca,EAAA,CAAAD,IAAA,wBAE5CP,EAAAA,EAAAA,IAA+BS,IAAA,G,gECL1BZ,MAAM,a,GACJA,MAAM,c,UAETC,EAAAA,EAAAA,GAAuC,SAAhCY,IAAI,cAAa,WAAO,K,UAS/BZ,EAAAA,EAAAA,GAAwC,SAAjCY,IAAI,oBAAmB,MAAE,K,UAE5BZ,EAAAA,EAAAA,GAAkC,UAAzBa,MAAO,MAAM,OAAG,K,UACzBb,EAAAA,EAAAA,GAAwC,UAA/Ba,OAAO,GAAM,aAAS,K,UAC/Bb,EAAAA,EAAAA,GAA2C,UAAlCa,OAAO,GAAO,eAAW,K,GAFlCC,EACAC,EACAC,G,UAKAhB,EAAAA,EAAAA,GAA6B,KAA1BD,MAAM,eAAc,MAAE,K,GAAzBkB,G,UAKAjB,EAAAA,EAAAA,GAA8B,KAA3BD,MAAM,eAAc,OAAG,K,GAA1BmB,G,sFA1BRC,EAAAA,EAAAA,IAyDM,MAzDNlB,EAyDM,EAxDJD,EAAAA,EAAAA,GAmCM,MAnCNoB,EAmCM,CAjCJC,GAAuC,SACvCrB,EAAAA,EAAAA,GAKE,SAJAsB,GAAG,a,qCACWhB,EAAAiB,OAAMC,GACpBC,YAAY,kBACZ,aAAW,gB,iBAFGnB,EAAAiB,YAAM,G,MAApB,MAMFG,GAAwC,SACxC1B,EAAAA,EAAAA,GAIS,U,qCAJQM,EAAAqB,WAAUH,GAAEF,GAAG,mBAAmB,aAAW,0B,cAA7ChB,EAAAqB,eAOjB3B,EAAAA,EAAAA,GAES,UAFA4B,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAExB,EAAAyB,aAAAzB,EAAAyB,eAAAD,IAAa,aAAW,gB,IAKxC9B,EAAAA,EAAAA,GAES,UAFA4B,QAAKC,EAAA,KAAAA,EAAA,GAAAL,GAAElB,EAAA0B,eAAeC,EAAA7B,WAAW,aAAW,mB,IAIrDJ,EAAAA,EAAAA,GAMS,UALJ4B,QAAKC,EAAA,KAAAA,EAAA,GAAAL,GAAElB,EAAA4B,wBACPC,UAAW7B,EAAA8B,gBACZ,aAAW,yBACd,OAED,EAAAC,OAAA,aAGFlB,EAAAA,EAAAA,IAIEmB,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAHejC,EAAAkC,UAARC,K,WADT5C,EAAAA,EAAAA,IAIE6C,EAAA,CAFCjC,IAAKgC,EAAKnB,GACVmB,KAAMA,G,6DCzCN1C,MAAM,kB,GACJA,MAAM,iB,GACJA,MAAM,c,iBAWNA,MAAM,2B,SAoBYA,MAAM,U,4HAjCjCoB,EAAAA,EAAAA,IAwCM,MAxCNlB,EAwCM,EAvCJD,EAAAA,EAAAA,GA8BM,MA9BNoB,EA8BM,EA7BJpB,EAAAA,EAAAA,GAMM,MANNqB,EAMM,EALJrB,EAAAA,EAAAA,GAIE,SAHE2C,KAAK,WACJC,QAASX,EAAAQ,KAAKI,SACdC,SAAMjB,EAAA,KAAAA,EAAA,GAAAL,GAAElB,EAAAyC,mBAAmBd,EAAAQ,KAAKnB,GAAIE,EAAOwB,OAAOJ,W,cAGzD5C,EAAAA,EAAAA,GAEM,OAFDD,MAAM,aAAc6B,QAAKC,EAAA,KAAAA,EAAA,GAAAL,GAAElB,EAAA2C,gBAAgBhB,EAAAQ,KAAKnB,O,QAChDW,EAAAQ,KAAKS,MAAI,IAEdhD,EAAAA,EAAAA,IAA8BiD,EAAA,CAApBC,QAAS9C,EAAA8C,SAAO,qBAC1BpD,EAAAA,EAAAA,GAiBM,MAjBNc,EAiBM,EAhBFd,EAAAA,EAAAA,GAA2E,UAAnED,MAAM,WAAY6B,QAAKC,EAAA,KAAAA,EAAA,GAAAL,GAAElB,EAAA4B,qBAAqBD,EAAAQ,KAAKnB,MAAK,OAChEtB,EAAAA,EAAAA,GAAsE,UAA9DD,MAAM,WAAY6B,QAAKC,EAAA,KAAAA,EAAA,GAAAL,GAAElB,EAAA0B,eAAeC,EAAAQ,KAAKnB,MAAK,QAC1DtB,EAAAA,EAAAA,GAAqE,UAA7DD,MAAM,WAAY6B,QAAKC,EAAA,KAAAA,EAAA,GAAAL,GAAElB,EAAA+C,gBAAgBpB,EAAAQ,KAAKnB,MAAK,MAK3DpB,EAAAA,EAAAA,IAKEoD,EAAA,CAJCzC,MAAOoB,EAAAQ,KAAKc,UACZ3B,QAAKC,EAAA,KAAAA,EAAA,GAAAL,GAAES,EAAAQ,KAAKc,UAAYjD,EAAAkD,gBAAkBlD,EAAAmD,cAC3CC,SAAS,YACTC,UAAU,S,mBAEZ3D,EAAAA,EAAAA,GAES,UAFDD,MAAM,WAAY6B,QAAKC,EAAA,KAAAA,EAAA,GAAAL,GAAElB,EAAAsD,eAAe3B,EAAAQ,KAAKnB,O,QAC9CW,EAAAQ,KAAKoB,OAAS,IAAM,KAAT,OAKZ5B,EAAAQ,KAAKoB,Q,iBAAM,WAAvB1C,EAAAA,EAAAA,IAMM,MANNJ,EAMM,gBALJI,EAAAA,EAAAA,IAIEmB,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAHoBN,EAAAQ,KAAKqB,UAAhBC,K,WADXlE,EAAAA,EAAAA,IAIE6C,EAAA,CAFGjC,IAAKsD,EAAQzC,GACbmB,KAAMsB,G,2FCrCb5C,EAAAA,EAAAA,IASM,OATDpB,MAAM,mBAAoBiE,MAAOC,EAAAC,KAAOjC,EAAAyB,SAAWzB,EAAA0B,W,WACtD3D,EAAAA,EAAAA,GAMC,SALC2C,KAAK,W,qCACIsB,EAAAC,KAAI1C,GACbzB,MAAM,SACNuB,GAAG,SACFwB,SAAMjB,EAAA,KAAAA,EAAA,OAAAC,IAAEqC,EAAAC,cAAAD,EAAAC,gBAAAtC,K,iBAHAmC,EAAAC,SAKXlE,EAAAA,EAAAA,GAA2D,SAAnDD,OAAKsE,EAAAA,EAAAA,IAAA,aAAiBJ,EAAAC,OAAQtD,IAAI,U,cAK9C,OACEsC,KAAM,gBACNoB,MAAO,CACLZ,SAAU,CACRf,KAAM4B,OACNC,QAAS,MAEXb,UAAW,CACThB,KAAM4B,OACNC,QAAS,OAEX3D,MAAO,CACL8B,KAAM8B,QACND,SAAS,IAGbE,IAAAA,GACE,MAAO,CACLR,KAAMS,KAAK9D,MAEf,EACA+D,QAAS,CACPR,YAAAA,GACEO,KAAKE,MAAM,QAASF,KAAKT,KAC3B,I,QC/BN,MAAMY,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,Q,eCRwB/E,MAAM,W,+BAAfkC,EAAAmB,UAAO,WAAlBjC,EAAAA,EAAAA,IAA0C,MAA1ClB,KAA0C,c,CAI5C,OACEiD,KAAM,kBACNoB,MAAO,CACLlB,QAAS,CACPT,KAAM8B,QACND,SAAS,KCHjB,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,QJwCE,GACEtB,KAAM,WACN6B,WAAY,CACVC,cAAa,EAAEC,QAAOA,GAExBX,MAAO,CACL7B,KAAM,CACJE,KAAMuC,OACNC,UAAU,IAGdC,KAAAA,CAAMd,GACJ,MAAM,QACJlB,EAAO,mBACPL,EAAkB,eAClBf,EAAc,gBACdqB,EAAe,gBACfJ,EAAe,eACfW,EAAc,qBACd1B,EAAoB,wBACpBmD,EAAuB,oBACvBC,EAAmB,WACnBC,IACEC,EAAAA,EAAAA,IAAO,SAEL/B,EAAeA,KACnB4B,EAAwBf,EAAM7B,KAAKnB,GAAG,EAGlCkC,EAAkBA,KACtB+B,EAAW,IAAIjB,EAAM7B,KAAMc,WAAW,GAAM,EAS9C,OANAkC,EAAAA,EAAAA,KAAY,KACVH,EAAoBhB,EAAM7B,KAAKnB,IAAI,GACnCyB,EAAmBuB,EAAM7B,KAAKnB,IAAI,GAClCsC,EAAeU,EAAM7B,KAAKnB,IAAI,EAAM,IAG/B,CACLyB,qBACAf,iBACAqB,kBACAJ,kBACAW,iBACA1B,uBACAmD,0BACAjC,UACAK,eACAD,kBAEJ,GK7FJ,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,QNyDA,GACEc,MAAO,CACLlE,SAAU,CACRuC,KAAM+C,OACNlB,QAAS,OAGbO,WAAY,CACVY,SAAQA,GAEVP,KAAAA,CAAMd,GACJ,MAAM,MACJsB,EAAK,QACLxC,EAAO,eACPpB,EAAc,WACd6D,EAAU,qBACV3D,EAAoB,wBACpBmD,IACEG,EAAAA,EAAAA,IAAO,SAELjE,GAASuE,EAAAA,EAAAA,IAAI,IACbC,EAAa,GACbpE,GAAamE,EAAAA,EAAAA,IAAI,MACjBE,EAAiB,KACjBC,GAAOH,EAAAA,EAAAA,IAAI,IAEjBI,EAAAA,EAAAA,KAAU,KACRL,EAAW,CACTtE,OAAQA,EAAOV,MACfT,SAAUkE,EAAMlE,SAChB6F,KAAMA,EAAKpF,SACc,OAArBc,EAAWd,MAAiB,CAAE0C,UAAW5B,EAAWd,OAAU,CAAC,GACnE,IAGJ,MAAM2B,GAAW2D,EAAAA,EAAAA,KAAS,KAExB,MAAMC,EAAahG,GACVwF,EAAM/E,MACVwF,QAAO5D,GAAQA,EAAK6D,YAAclG,IAClCmG,KAAI9D,IACH,MAAMqB,EAAWsC,EAAU3D,EAAKnB,IAChC,OAAOwC,EAAS0C,OAAS,IAAK/D,EAAMqB,YAAarB,CAAI,IAG3D,OAAO2D,EAAU9B,EAAMlE,SAAS,IAG5BgC,GAAkB+D,EAAAA,EAAAA,KAAS,IACxBP,EAAM/E,MAAM4F,MAAKhE,GAAQA,EAAKI,aAGjCd,EAAcA,KAClB,GAAGuC,EAAMlE,SAAU,OAAO,KAC1ByF,EAAW,CACTtE,SACAnB,SAAU,QACe,OAArBuB,EAAWd,MAAiB,CAAE0C,UAAW5B,EAAWd,OAAU,CAAC,EAEnEoF,KAAO1E,EAAOV,QAAUkF,GAAcpE,EAAWd,QAAUmF,EAAkB,EAAIC,EAAKpF,OACtF,EAGJ,MAAO,CACLU,SACAI,aACAyB,UACAZ,WACAoD,QACAxD,kBACAL,cACAC,iBACAE,uBACAmD,0BAEJ,GOtIF,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,Q,qECRStF,MAAM,a,GACJA,MAAM,mB,wBAKNA,MAAM,qB,IACJA,MAAM,e,WACTC,EAAAA,EAAAA,GAAmC,SAA5BY,IAAI,aAAY,QAAI,K,UAOLb,MAAM,iB,IAGzBA,MAAM,e,IAONA,MAAM,e,WACPC,EAAAA,EAAAA,GAAqC,SAA9BY,IAAI,cAAa,SAAK,K,UAQNb,MAAM,iB,IAG5BA,MAAM,e,WACTC,EAAAA,EAAAA,GAAwB,aAAjB,aAAS,K,UAGUD,MAAM,iB,qJAzCTO,EAAAoG,cAAW,WAAxCvF,EAAAA,EAAAA,IAsDM,MAtDNlB,EAsDM,EArDJD,EAAAA,EAAAA,GAGM,MAHNoB,EAGM,CAFkC,OAA1Bd,EAAAoG,YAAYJ,YAAS,WAAjCnF,EAAAA,EAAAA,IAAgE,OAAAE,EAApB,kBAC3Bf,EAAAoG,cAAW,WAA5BvF,EAAAA,EAAAA,IAAoE,OAAAO,EAAtC,mBAAeiF,EAAAA,EAAAA,IAAGrG,EAAAsG,YAAU,uBAG5D5G,EAAAA,EAAAA,GA+CM,MA/CNc,GA+CM,EA9CJd,EAAAA,EAAAA,GASM,MATNe,GASM,CARJC,IAAmC,SACnChB,EAAAA,EAAAA,GAKE,SAJAsB,GAAG,Y,qCACMhB,EAAAoG,YAAYxD,KAAI1B,GACzBmB,KAAK,OACJ5C,OAAKsE,EAAAA,EAAAA,IAAA,cAAkB/D,EAAAuG,a,eAFfvG,EAAAoG,YAAYxD,QAIZ5C,EAAAuG,YAAS,WAApB1F,EAAAA,EAAAA,IAAiE,MAAjE2F,IAAiEH,EAAAA,EAAAA,IAAlBrG,EAAAuG,WAAS,uBAG1D7G,EAAAA,EAAAA,GAKM,MALNiB,GAKM,EAJJjB,EAAAA,EAAAA,GAGQ,wBAFNA,EAAAA,EAAAA,GAAyD,SAAlD2C,KAAK,W,qCAAoBrC,EAAAoG,YAAYnD,UAAS/B,I,iBAArBlB,EAAAoG,YAAYnD,cAAS,QAAI,oBAK7DvD,EAAAA,EAAAA,GAUM,MAVN+G,GAUM,CATF7F,IACAhB,EAAAA,EAAAA,IAKE8G,EAAA,CAJGC,MAAO3G,EAAAoG,YAAYQ,WACnBC,cAAa7G,EAAA8G,kBACbC,WAAU/G,EAAAgH,eACVC,QAAOjH,EAAAkH,kB,yDAGDlH,EAAAmH,aAAU,WAArBtG,EAAAA,EAAAA,IAAmE,MAAnEuG,IAAmEf,EAAAA,EAAAA,IAAnBrG,EAAAmH,YAAU,uBAG9DzH,EAAAA,EAAAA,GAKM,MALNqC,GAKM,CAJJsF,IACAzH,EAAAA,EAAAA,IAAqE0H,EAAA,CAAxDC,aAAYvH,EAAAwH,eAAiBP,QAAOjH,EAAAyH,kB,mCAEtCzH,EAAA0H,gBAAa,WAAxB7G,EAAAA,EAAAA,IAAyE,MAAzE8G,IAAyEtB,EAAAA,EAAAA,IAAtBrG,EAAA0H,eAAa,uBAGlEhI,EAAAA,EAAAA,GAMS,UALNmC,UAAW7B,EAAA4H,SAAW5H,EAAA8C,QAAQvC,MAC9Be,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAExB,EAAA6H,YAAA7H,EAAA6H,cAAArG,K,CAEIxB,EAAA8C,QAAQvC,QAAK,WAAzBM,EAAAA,EAAAA,IAAoC,OAAAiH,GAAT,QAAE,wBAA6B,aAE5D,OAEApI,EAAAA,EAAAA,GAA2C,UAAlC4B,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAExB,EAAA+H,aAAA/H,EAAA+H,eAAAvG,KAAa,gBAAK,WAGtCX,EAAAA,EAAAA,IAEM,MAAAmH,GAAA,EADFpI,EAAAA,EAAAA,IAAsCiD,EAAA,CAA5BC,QAAS9C,EAAA8C,SAAO,sB,iCCzCrBrD,MAAM,Y,iEAffoB,EAAAA,EAAAA,IA0BM,aAxBFnB,EAAAA,EAAAA,GAUM,OAVDD,MAAM,gBAAiB6B,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAEqC,EAAAoE,aAAApE,EAAAoE,eAAAzG,K,CACfmC,EAAAuE,gBAAa,WACzBrH,EAAAA,EAAAA,IAAuE,O,MAAjEsH,IAAKxE,EAAAuE,cAAezI,MAAM,gBAAgB2I,IAAI,kB,YAEnCzG,EAAAgF,QAAK,WACtB9F,EAAAA,EAAAA,IAA+D,O,MAAzDsH,IAAKxG,EAAAgF,MAAOlH,MAAM,gBAAgB2I,IAAI,kB,yBAEhDvH,EAAAA,EAAAA,IAEWmB,EAAAA,GAAA,CAAA7B,IAAA,aAFM,eAEjB,QAIJT,EAAAA,EAAAA,GAOM,MAPNqB,GAOM,CANSY,EAAAgF,QAAK,WAAhB9F,EAAAA,EAAAA,IAEM,MAAAO,GAAA,WADF1B,EAAAA,EAAAA,GAA+C,SAAxC2C,KAAK,W,qCAAoBsB,EAAA0E,YAAWnH,I,iBAAXyC,EAAA0E,gBAAW,QAAI,gBACnD,eACWxE,EAAAoE,cAAW,WAAtBpH,EAAAA,EAAAA,IAEM,MAAAL,GAAA,CADYmD,EAAAuE,gBAAa,WAA3BrH,EAAAA,EAAAA,IAA4D,U,MAA9BS,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAEqC,EAAAyE,aAAAzE,EAAAyE,eAAA9G,KAAa,OAAC,qCAK3D9B,EAAAA,EAAAA,GAAuF,SAAhF2C,KAAK,OAAOmD,IAAI,YAAahD,SAAMjB,EAAA,KAAAA,EAAA,OAAAC,IAAEqC,EAAA0E,mBAAA1E,EAAA0E,qBAAA/G,IAAmBgH,MAAA,kB,wCAKrE,IACExE,MAAO,CACL2C,MAAO,CACLtE,KAAM4B,OACNC,QAAS,KAGbE,IAAAA,GACE,MAAO,CACLiE,aAAa,EACbH,cAAe,KAEnB,EACA5D,QAAS,CACP2D,WAAAA,GACE5D,KAAKoE,MAAMC,UAAUC,OACvB,EACAJ,iBAAAA,CAAkBK,GAChB,MAAMC,EAAOD,EAAMlG,OAAOoG,MAAM,GAC5BD,GACFxE,KAAK6D,cAAgBa,IAAIC,gBAAgBH,GACzCxE,KAAKE,MAAM,WAAYsE,IAEvBxE,KAAKE,MAAM,QAAS,4BAExB,EACA+D,WAAAA,GACEjE,KAAK6D,cAAgB,IACvB,GAEFe,MAAO,CACLZ,WAAAA,CAAYa,GACV7E,KAAKE,MAAM,cAAe2E,EAC5B,ICzDN,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,U,gFCRIrI,EAAAA,EAAAA,IAQM,sBAPJnB,EAAAA,EAAAA,GAKE,S,qCAJSM,EAAAmJ,SAAQjI,GACjBC,YAAY,oCACXiI,QAAK7H,EAAA,KAAAA,EAAA,OAAAC,IAAExB,EAAAqJ,aAAArJ,EAAAqJ,eAAA7H,IACR/B,MAAM,S,iBAHGO,EAAAmJ,YAKanJ,EAAA4H,UAAO,WAA/BrI,EAAAA,EAAAA,IAAkE+J,EAAA,C,MAAhCtI,GAAIhB,EAAAuJ,S,iDAS1C,IACE3G,KAAM,aACN6B,WAAY,CACV+E,iBAAgBA,GAAAA,GAElBxF,MAAO,CACLyF,WAAY,CACVpH,KAAM4B,OACNC,QAAS,KAGbwF,MAAO,CAAC,aAAc,SACtB5E,KAAAA,CAAMd,GAAO,KAAE2F,IACb,MAAMR,GAAW3D,EAAAA,EAAAA,IAAIxB,EAAMyF,YACrB7B,GAAUpC,EAAAA,EAAAA,KAAI,GACd+D,GAAU/D,EAAAA,EAAAA,IAAI,IACdoE,GAAepE,EAAAA,EAAAA,IAAI,IAEnB6D,EAAcA,KAClB,MAAMQ,EAAe,wDACrB,GAAIA,EAAaC,KAAKX,EAAS5I,OAAQ,CACrC,MAAMwJ,EAAa,kCACbC,GAASb,EAAS5I,OAAS4I,EAAS5I,MAAMyJ,MAAMD,GAClDC,GACFT,EAAQhJ,MAAQyJ,EAAM,GACtBpC,EAAQrH,OAAQ,EAChBqJ,EAAarJ,MAAQ,GACrBoJ,EAAK,aAAcR,EAAS5I,OAC5BoJ,EAAK,QAAS,MAEd/B,EAAQrH,OAAQ,EAChBqJ,EAAarJ,MAAQ,4BACrBoJ,EAAK,QAASC,EAAarJ,OAE/B,MACEqH,EAAQrH,OAAQ,EAChBqJ,EAAarJ,MAAQ,cACrBoJ,EAAK,QAASC,EAAarJ,MAC7B,EAWF,OARA0I,EAAAA,EAAAA,KACE,IAAMjF,EAAMyF,aACXQ,IACCd,EAAS5I,MAAQ0J,EACjBZ,GAAa,IAIV,CACLF,WACAvB,UACA2B,UACAK,eACAP,cAEJ,GClEJ,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,UJ0DA,IACEzG,KAAM,cACN6B,WAAY,CACVyF,YAAW,GACXC,WAAU,GACVxF,QAAOA,GAETG,KAAAA,GACE,MAAM,MAAEQ,EAAK,QAAExC,EAAO,YAAEiF,EAAW,gBAAEpF,EAAe,QAAEyH,EAAO,YAAEhE,IAAgBlB,EAAAA,EAAAA,IAAO,SAEhFqB,GAAYf,EAAAA,EAAAA,IAAI,IAChB2B,GAAa3B,EAAAA,EAAAA,IAAI,IACjBkC,GAAgBlC,EAAAA,EAAAA,IAAI,IAE1B,SAAS6E,IACL,OAAKjE,EAAY7F,MAAMqC,KAInBwD,EAAY7F,MAAMqC,KAAKsD,OAAS,GAAKE,EAAY7F,MAAMqC,KAAKsD,OAAS,KACrEK,EAAUhG,MAAQ,6CACX,IAEXgG,EAAUhG,MAAQ,IACX,IARHgG,EAAUhG,MAAQ,oBACX,EAQf,CAEA,SAAS+J,IACL,OAAIlE,EAAYmE,UAAYnE,EAAYmE,SAASC,MAAQ,KACrDrD,EAAW5G,MAAQ,uCACZ,IAEX4G,EAAW5G,MAAQ,IACZ,EACX,CAEA,SAASkK,IACL,OAAIrE,EAAYqD,aAAe,qDAAqDK,KAAK1D,EAAYqD,aACjG/B,EAAcnH,MAAQ,uBACf,IAEXmH,EAAcnH,MAAQ,IACf,EACX,CAEA,MAAMqH,GAAU/B,EAAAA,EAAAA,KAAS,IACdwE,KAAkBC,KAAmBG,MAG1CnE,GAAaT,EAAAA,EAAAA,KAAS,KACxB,MAAM6E,EAAapF,EAAM/E,MAAMoK,MAAKxI,GAAQA,EAAKnB,KAAOoF,EAAY7F,MAAMyF,YAC1E,OAAO0E,EAAaA,EAAW9H,KAAO,EAAE,IAG5C,SAASkE,EAAkBoC,GACvB9C,EAAY7F,MAAM8H,YAAca,CACpC,CACA,SAASlC,EAAe6B,GACpBzC,EAAY7F,MAAMgK,SAAW1B,CACjC,CACA,SAAS3B,EAAiB0D,GACtBzD,EAAW5G,MAAQqK,CACvB,CAEA,SAASpD,EAAeqD,GACpBzE,EAAY7F,MAAMkJ,WAAaoB,CACnC,CACA,SAASpD,EAAiBmD,GACtBlD,EAAcnH,MAAQqK,CAC1B,CAEAE,eAAejD,IACX,MAAMkD,QAAcX,EAAQhE,EAAY7F,OACpCwK,GACApI,EAAgBoI,EAExB,CAEA,MAAO,CACHxE,YACAY,aACAO,gBACAtB,cACAoB,iBACAC,mBACAG,UACAtB,aACAxD,UACAiF,cACAF,aACAf,oBACAE,iBACAE,mBAEN,GK1JF,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,U,uECRSzH,MAAM,a,IACFA,MAAM,oB,IACFA,MAAM,mB,IAQZA,MAAM,qB,IAEJA,MAAM,e,IAMNA,MAAM,iB,eASNA,MAAM,e,YACPC,EAAAA,EAAAA,GAAwB,aAAjB,aAAS,K,gCASQD,MAAM,iB,sGArCTO,EAAAoG,cAAW,WAAxCvF,EAAAA,EAAAA,IAwCM,MAxCNlB,GAwCM,EAvCFD,EAAAA,EAAAA,GAOM,MAPNoB,GAOM,EANFpB,EAAAA,EAAAA,GAEM,MAFNqB,IAEMsF,EAAAA,EAAAA,IADDrG,EAAAoG,YAAYxD,MAAI,IAErBlD,EAAAA,EAAAA,GAES,UAFDD,MAAM,UAAW6B,QAAKC,EAAA,KAAAA,EAAA,GAAAL,GAAElB,EAAA+H,gBAAe,UAKrDrI,EAAAA,EAAAA,GA6BM,MA7BN0B,GA6BM,EA3BJ1B,EAAAA,EAAAA,GAIM,MAJNc,GAIM,EAHJd,EAAAA,EAAAA,GAEQ,cAAA2G,EAAAA,EAAAA,IADHrG,EAAAoG,YAAYnD,UAAY,YAAc,SAAjB,MAI5BvD,EAAAA,EAAAA,GAOM,MAPNe,GAOM,CANcT,EAAAoG,YAAYQ,aAAU,WAClC/F,EAAAA,EAAAA,IAAgF,O,MAA1EsH,IAAKnI,EAAAoG,YAAYQ,WAAYnH,MAAM,gBAAgB2I,IAAI,kB,yBAEjEvH,EAAAA,EAAAA,IAEWmB,EAAAA,GAAA,CAAA7B,IAAA,aAFM,eAEjB,QAGJT,EAAAA,EAAAA,GAWM,MAXN8G,GAWM,CAVF7F,GACWX,EAAAoG,YAAYqD,aAAU,WAAjC5I,EAAAA,EAAAA,IAGM,MAAA4F,GAAA,EAFF/G,EAAAA,EAAAA,GAAuC,YAAA2G,EAAAA,EAAAA,IAA/BrG,EAAAoG,YAAYqD,YAAU,IAC9B7J,EAAAA,EAAAA,IAAmD0J,EAAA,CAAhCtI,GAAIhB,EAAAuJ,SAAO,+BAElC1I,EAAAA,EAAAA,IAEM,MAAAD,GAFM,eAIHoK,EAAAtD,gBAAa,WAAxB7G,EAAAA,EAAAA,IAAyE,MAAzEuG,IAAyEf,EAAAA,EAAAA,IAAtB2E,EAAAtD,eAAa,wCAItE7G,EAAAA,EAAAA,IAEM,MAAAkB,GAAA,EADFnC,EAAAA,EAAAA,IAAsCiD,EAAA,CAA5BC,QAAS9C,EAAA8C,SAAO,sB,CAUlC,QACEF,KAAM,cACN6B,WAAY,CACVE,QAAO,EAAE6E,iBAAgBA,GAAAA,GAE3B1E,KAAAA,GACE,MAAM,QAAEhC,EAAO,YAAEiF,EAAW,YAAE3B,IAAgBlB,EAAAA,EAAAA,IAAO,SAE/CqE,GAAU1D,EAAAA,EAAAA,KAAS,KACrB,IAAIO,EAAY7F,MAAMkJ,WAAY,MAAO,GACzC,MAAMM,EAAa,kCACbC,EAAQ5D,EAAY7F,MAAMkJ,WAAWO,MAAMD,GACjD,OAAKC,GAAUA,EAAM,GACdA,EAAM,GADmB,EACjB,IAGnB,MAAO,CACHlH,UACAiF,cACA3B,cACAmD,UAEN,GCpEF,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,U,gBCRwD9J,MAAM,U,IACnDA,MAAM,Q,IACLA,MAAM,c,IAMLA,MAAM,gB,gCARJO,EAAAiL,eAAiBjL,EAAAkL,gBAAgBC,SAAM,WAAlDtK,EAAAA,EAAAA,IAaM,MAbNlB,GAaM,EAZJD,EAAAA,EAAAA,GAWM,MAXNoB,GAWM,EAVJpB,EAAAA,EAAAA,GAA6C,KAA7CqB,IAA6CsF,EAAAA,EAAAA,IAAnBrG,EAAAoL,SAAS,IAAD,IAClC1L,EAAAA,EAAAA,GAIK,0BAHDmB,EAAAA,EAAAA,IAEKmB,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAFqCjC,EAAAoL,SAASC,MAAM,IAAD,CAA5BC,EAAMC,M,WAAlC1K,EAAAA,EAAAA,IAEK,MAFDpB,MAAM,UAAoDU,IAAKoL,I,QAC5DD,GAAI,M,SAGf5L,EAAAA,EAAAA,GAGM,MAHN0B,GAGM,EAFJ1B,EAAAA,EAAAA,GAA4D,UAApDD,MAAM,gBAAiB6B,QAAKC,EAAA,KAAAA,EAAA,GAAAL,GAAElB,EAAAwL,WAAU,QAChD9L,EAAAA,EAAAA,GAA6D,UAArDD,MAAM,cAAe6B,QAAKC,EAAA,KAAAA,EAAA,GAAAL,GAAElB,EAAAyL,WAAU,kBAAM,c,CCT9D,MAAMP,GAAkB,CACpBQ,KAAM,OACNP,OAAQ,SACRQ,UAAW,YACXC,SAAU,YAKd,SAASC,KACL,MAAMZ,GAAgBzF,EAAAA,EAAAA,IAAI0F,GAAgBQ,MACpCN,GAAW5F,EAAAA,EAAAA,IAAI,IACfsG,GAAUtG,EAAAA,EAAAA,KAAI,GAMduG,EAAiBA,IACZ,IAAIC,SAASC,IAChB,MAAMC,GAAUjD,EAAAA,EAAAA,IAAMgC,GAAe,CAACkB,EAAWC,KAC7C,GAAIA,IAAclB,GAAgBC,OAG9B,OAFAe,IACAD,GAAQ,IACD,EAEPE,IAAcjB,GAAgBS,WAAaQ,IAAcjB,GAAgBO,SACzES,IACAD,EAAQE,IAAcjB,GAAgBS,WAC1C,GACF,IASJU,EAAsBvB,MAAMwB,EAAUC,KACxCtB,EAAc1K,MAAQ2K,GAAgBC,OACtCC,EAAS7K,MAAQ+L,QACXP,IACHd,EAAc1K,QAAU2K,GAAgBS,YACvCG,EAAQvL,YAAcgM,KAE1BtB,EAAc1K,MAAQ2K,GAAgBQ,IAAI,EAW9C,OAPAc,EAAAA,EAAAA,IAAQ,UAAW,CACfvB,gBACAG,WACAU,UACAO,wBAGG,CAACA,sBACZ,CDvCA,QACIzJ,KAAM,gBACNkC,KAAAA,GACI,MAAM,cACFmG,EAAa,SACbG,IACAlG,EAAAA,EAAAA,IAAO,WAEX,SAASsG,IACLP,EAAc1K,MAAQ2K,GAAgBS,SAC1C,CAEA,SAASF,IACLR,EAAc1K,MAAQ2K,GAAgBU,SACtCa,YAAW,KACPxB,EAAc1K,MAAQ2K,GAAgBQ,IAAI,GAC3C,IACP,CAEA,MAAO,CACHN,WACAH,gBACAC,gBAAe,GACfM,SACAC,SAER,GExCJ,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,MAEpE,UnBOA,IACEhH,WAAY,CACViI,SAAQ,EAAEC,QAAO,GAAEC,cAAa,GAAEC,SAAQA,IAE5C/H,KAAAA,GACE,MAAM,aAAC7E,IAAgBiF,EAAAA,EAAAA,IAAO,SAC9B,MAAO,CACLjF,eAEJ,GoBlBF,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,U,qBCTO,MAAM6M,GAAeC,CAAAA,SAAAA,aAAAA,SAAAA,qBAAYC,sBAAwB,wBACnDC,GAAkB,GAAEH,eCmBjC,SAASI,GAAgBC,EAAQC,GAC7B,IAAIC,EAAc,GAElB,IAAK,MAAMlL,KAAQiL,EACXjL,EAAKrC,WAAaqN,IAClBE,EAAYC,KAAKnL,EAAKnB,IACtBqM,EAAcA,EAAYE,OAAOL,GAAgB/K,EAAKnB,GAAIoM,KAIlE,OAAOC,CACX,CAEA,SAASG,GAAY1N,GACjB,MAAO,CACHkG,UAAWlG,EACX8C,KAAM,GACNgE,WAAY,GACZ6C,WAAY,GACZxG,WAAW,EACXsH,SAAU,KACVlC,aAAa,EACb9F,UAAU,EACVgB,QAAQ,EACRC,SAAU,GAElB,CAKe,SAASiK,GAASC,EAAarB,GAC1C,MAAM/G,GAAQE,EAAAA,EAAAA,IAAI,IACZY,GAAcZ,EAAAA,EAAAA,IAAIgI,GAAY,OAC9B1K,GAAU0C,EAAAA,EAAAA,KAAI,GACdvF,GAAeuF,EAAAA,EAAAA,IAAI,IAQnBmI,EAAcC,IAChB,IAAIC,EAAS,IAAIvI,EAAM/E,OAEvBqN,EAAQE,SAAQC,IACZ,MAAMC,EAAQH,EAAOlD,MAAK,EAAE3J,QAAQA,IAAO+M,EAAQ/M,KAC/CgN,EACApJ,OAAOqJ,OAAOD,EAAOD,GAErBF,EAAOP,KAAKS,EAChB,IAGJzI,EAAM/E,MAAQsN,CAAM,EAIlB7I,EAAsBA,CAACmI,EAAQ5K,KACjC,MAAM8K,EAAcH,GAAgBC,EAAQ7H,EAAM/E,OAC9C8M,EAAYnH,SAChBZ,EAAM/E,MAAQ+E,EAAM/E,MAAM0F,KAAK9D,IAAI,IAC5BA,EACHI,SAAU8K,EAAYtN,SAASoC,EAAKnB,IAAMuB,EAAWJ,EAAKI,aAC3D,EAGDE,EAAqBA,CAAC0K,EAAQ5K,KAChC+C,EAAM/E,MAAQ+E,EAAM/E,MAAM0F,KAAK9D,IAAI,IAC5BA,EACHI,SAAUJ,EAAKnB,KAAOmM,EAAS5K,EAAWJ,EAAKI,aAEhDA,GACCyC,EAAoBmI,EAAQ5K,EAChC,EAGE2L,EAAiBA,IACZ5I,EAAM/E,MAAMwF,QAAO,EAAGxD,cAAeA,IAAU0D,KAAI,EAAEjF,QAAQA,IAOlEmN,EAAiBhM,IACnBiE,EAAY7F,MAAQ4B,EACpBlC,EAAaM,MAAQ,MAAM,EAOzB6N,EAAgBtO,IAClBsG,EAAY7F,MAAQiN,GAAY1N,GAChCG,EAAaM,MAAQ,KAAK,EAOxB8N,EAAiBlM,IACnBiE,EAAY7F,MAAQ4B,EACpBlC,EAAaM,MAAQ,MAAM,EAMzBwH,EAAcA,KAChB9H,EAAaM,MAAQ,EAAE,EAUrB+N,EAAgBxD,UAClBhI,EAAQvC,OAAQ,EAChB,IAAI6D,EAAO,KACX,IACInE,EAAaM,MAAQ,OACrB,MAAMgO,QAAiBC,GAAAA,EAAMC,IAAK,GAAExB,MAAkBE,UACtD,GAAGoB,EAASG,MAAO,MAAM,IAAIC,MAAMJ,EAASG,OAC5C,IAAIH,EAASnK,MAAMjC,KAAM,MAAM,IAAIwM,MAAM,qBACzChB,EAAW,CAACY,EAASnK,KAAKjC,OAC1BiC,EAAOmK,EAASnK,KAAKjC,IACzB,CAAE,MAAMuM,GACJhB,EAAYgB,EAAO,8BACvB,CAAE,QACE5L,EAAQvC,OAAQ,CACpB,CACA,OAAO6D,CAAI,EAQTmB,EAAauF,UACfhI,EAAQvC,OAAQ,EAChB,IAAIuL,GAAU,EACd,MAAM,SAAEhM,EAAW,EAAC,KAAE6F,EAAO,EAAC,OAAE1E,EAAS,IAAM2N,EAC/C,IACI,MAAML,QAAiBC,GAAAA,EAAMC,IAAK,GAAExB,UAAuB,CACvD2B,OAAQ,CACJ9O,WACA6F,OACA1E,iBACyB4N,IAArBD,EAAO3L,UAA0B,CAAEA,UAAW2L,EAAO3L,WAAa,CAAC,KAG/E,GAAGsL,EAASG,MAAO,MAAM,IAAIC,MAAMJ,EAASG,OAC5C,IAAII,MAAMC,QAAQR,EAASnK,MAAMkB,OAAQ,MAAM,IAAIqJ,MAAM,mBAErD7O,GAAqB,IAAT6F,EAGZgI,EAAWY,EAASnK,KAAKkB,OAFzBA,EAAM/E,MAAQgO,EAASnK,KAAKkB,MAIhCwG,GAAU,CACd,CAAE,MAAO4C,GACLhB,EAAYgB,EAAO,8BACvB,CAAE,QACE5L,EAAQvC,OAAQ,CACpB,CACA,OAAOuL,CAAO,EAQZxI,EAAiBwH,UACnB,MAAM3I,EAAOmD,EAAM/E,MAAMoK,MAAMxI,GAAUA,EAAKnB,KAAOmM,IACrD,GAAGhL,EAAKoB,OAEJ,OADAoK,EAAW,CAAC,IAAIxL,EAAMoB,QAASpB,EAAKoB,WAC7B,EAEX,MAAMyL,QAAgBzJ,EAAW,CAAEzF,SAAUqN,IAC7C,QAAI6B,IACJrB,EAAW,CAAC,IAAIxL,EAAMoB,QAASpB,EAAKoB,WAC7B,EAAI,EAQT6G,EAAUU,UACZhI,EAAQvC,OAAQ,EAChB,IAAIwK,EAAQ,KACZ,IACI,MAAMkE,EAAW,IAAIC,SACrB,IAAK,MAAM/O,KAAOgP,EAAU,CACxB,MAAM5O,EAAQ,KACkB,mBAAlB4O,EAAShP,GACRgP,EAAShP,GAAO,EAAI,EAExBgP,EAAShP,GAJN,GAMd8O,EAASG,OAAOjP,EAAKI,EACzB,CACA,MAAMgO,QAAiBC,GAAAA,EAAMa,KAAM,GAAEpC,UAAuBgC,EAAU,CAClEK,QAAS,CACL,eAAgB,yBAGxB,GAAGf,EAASG,MAAO,MAAM,IAAIC,MAAMJ,EAASG,OAC5C,IAAIH,EAASnK,MAAMjC,KAAM,MAAM,IAAIwM,MAAM,qBACzCrJ,EAAM/E,MAAM+M,KAAKiB,EAASnK,KAAKjC,MAC/B4I,EAAQwD,EAASnK,KAAKjC,KAAKnB,EAC/B,CAAE,MAAO0N,GACLhB,EAAYgB,EAAO,qBACvB,CAAE,QACE5L,EAAQvC,OAAQ,CACpB,CACA,OAAOwK,CAAK,EAQV9F,EAAa6F,UACfhI,EAAQvC,OAAQ,EAChB,IAAIuL,GAAU,EACd,IACI,MAAMmD,EAAW,IAAIC,SACrB,IAAK,MAAM/O,KAAOgP,EACdF,EAASG,OAAOjP,EAAKgP,EAAShP,IAElC,MAAMoO,QAAiBC,GAAAA,EAAMe,IAAK,GAAEtC,MAAkBkC,EAASnO,KAAMiO,GACrE,GAAGV,EAASG,MAAO,MAAM,IAAIC,MAAMJ,EAASG,OAC5Cf,EAAW,CAACwB,GAChB,CAAE,MAAOT,GACLhB,EAAYgB,EAAO,qBACvB,CAAE,QACE5L,EAAQvC,OAAQ,CACpB,CACA,OAAOuL,CAAO,EAQZ0D,EAAc1E,UAChBhI,EAAQvC,OAAQ,EAChB,IAAIuL,GAAU,EACd,IACI,MAAMyC,QAAiBC,GAAAA,EAAMiB,MAAO,GAAExC,YAAyB,CAC3DV,OAAQ,SACRmD,aAEJ,GAAGnB,EAASG,MAAO,MAAM,IAAIC,MAAMJ,EAASG,OAC5CpJ,EAAM/E,MAAQ+E,EAAM/E,MAAMwF,QAAO,EAAE/E,SAAS0O,EAAS3P,SAASiB,IAClE,CAAE,MAAO0N,GACLhB,EAAYgB,EAAO,qBACvB,CAAE,QACE5L,EAAQvC,OAAQ,CACpB,CACA,OAAOuL,CAAO,EAQZ6D,EAAgB7E,UAClBhI,EAAQvC,OAAQ,EAChB,IAAIuL,GAAU,EACd,IACI,MAAMyC,QAAiBC,GAAAA,EAAMiB,MAAO,GAAExC,KAAkB,CACpDV,OAAQ,WACRmD,aAEJ,GAAGnB,EAASG,MAAO,MAAM,IAAIC,MAAMJ,EAASG,OAC5CpJ,EAAM/E,MAAQ+E,EAAM/E,MAAM0F,KAAK9D,GACvBuN,EAAS3P,SAASoC,EAAKnB,IACpB,IAAImB,EAAMc,WAAW,GADWd,GAG/C,CAAE,MAAOuM,GACLhB,EAAYgB,EAAO,0BACvB,CAAE,QACE5L,EAAQvC,OAAQ,CACpB,CACA,OAAOuL,CAAO,EAOZnJ,EAAkBmI,UACpB,MAAMkE,QAAgBV,EAAcnB,GAChC6B,GACJb,EAAca,EAAQ,EAOpBjM,EAAkB+H,UACpB,MAAMkE,QAAgBV,EAAcnB,GAChC6B,GACJX,EAAcW,EAAQ,EASpBtN,EAAiBoJ,UACnBsD,EAAatO,EAAS,EAUpB8B,EAAuBkJ,UACzB,MAAM8E,EAAWzC,EAAS,IAAID,GAAgBC,EAAQ7H,EAAM/E,OAAQ4M,GAAUe,IACxE5B,EAAW,CACb,0DACGhH,EAAM/E,MAAMwF,QAAO,EAAG/E,QAAS4O,EAAS7P,SAASiB,KAAKiF,KAAI,EAAGrD,UAAYA,KAE1EiN,QAAaxD,EAAoBC,GAAU,IAAMkD,EAAYI,KACnE,OAAOC,CAAI,EAST9K,EAA0B+F,UAC5B,MAAMgF,EAAa3C,EAAS,IAAID,GAAgBC,EAAQ7H,EAAM/E,OAAQ4M,GAAUe,IAC1E5B,EAAW,CACb,4DACGhH,EAAM/E,MAAMwF,QAAO,EAAG/E,QAAS8O,EAAW/P,SAASiB,KAAKiF,KAAI,EAAGrD,UAAYA,KAE5EiN,QAAaxD,EAAoBC,GAAU,IAAMqD,EAAcG,KACrE,OAAOD,CAAI,GAGfrD,EAAAA,EAAAA,IAAQ,QAAS,CACblH,QACAc,cACAnG,eACA6C,UACAkC,sBACAvC,qBACAsF,cACArG,iBACAqB,kBACAJ,kBACA4C,aACA6E,UACAnF,aACArD,uBACAmD,0BACAzB,kBAER,CChZe,SAASyM,KACpB,MAAMC,GAAUxK,EAAAA,EAAAA,IAAI,MAChByK,GAAWzK,EAAAA,EAAAA,IAAI,MAEb0K,EAAWA,EAAGC,YAAWC,iBAC3BJ,EAAQzP,MAAQ4P,EAChBF,EAAS1P,MAAQ6P,EACjBC,QAAQ3B,MAAM0B,EAAW,EAW7B,SAAS1C,EAAYgB,EAAO4B,EAAU,IAClC,IAAIH,EAAWC,EAEf,MAAMG,EAAgB7B,EAAMH,UAAYG,EAAMH,SAASnK,MAAQsK,EAAMH,SAASnK,KAAKwG,QACnF,GAAG2F,EAAe,CAEd,MAAMC,EAAuB,CACzB,IAAM,yCAAwCF,IAC9C,IAAM,sCAAqCA,IAC3C,IAAM,yDAAwDA,IAC9D,IAAM,uBAAsBA,IAC5B,IAAM,kDAAiDA,KAI3DH,EAAYK,EAAqB9B,EAAMH,UAAUkC,SAC1CF,GACA,gCACPH,EAAaG,GAAiB,2CAClC,MACIJ,EAAYzB,EAAMgC,WACXhC,EAAM9D,SACN,gCACPwF,EAAa1B,EAAMiC,YACZjC,EAAM9D,SACN,gCAGXsF,EAAS,CAAEC,YAAWC,cAC1B,CAQA,OANA5D,EAAAA,EAAAA,IAAQ,SAAU,CACdwD,UACAC,WACAvC,gBAGG,CAACA,cACZ,CxBjDA,QACE9K,KAAM,MACN6B,WAAY,CACVmM,SAAQA,IAEV9L,KAAAA,GACE,MAAM,YAAE4I,GAAeqC,MACjB,oBAAE1D,GAAwBR,KAChC4B,GAASC,EAAarB,EACxB,GyBZF,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAASwE,KAEpE,UCNA,MAAMC,IAAMC,EAAAA,EAAAA,IAAUC,IAEtBF,GAAIG,MAAM,O,GCJNC,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBvC,IAAjBwC,EACH,OAAOA,EAAaC,QAGrB,IAAIC,EAASL,EAAyBE,GAAY,CAGjDE,QAAS,CAAC,GAOX,OAHAE,EAAoBJ,GAAUK,KAAKF,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAGpEI,EAAOD,OACf,CAGAH,EAAoBO,EAAIF,E,WCzBxB,IAAIG,EAAW,GACfR,EAAoBS,EAAI,SAAS/D,EAAQgE,EAAUC,EAAIC,GACtD,IAAGF,EAAH,CAMA,IAAIG,EAAeC,IACnB,IAASC,EAAI,EAAGA,EAAIP,EAASzL,OAAQgM,IAAK,CACrCL,EAAWF,EAASO,GAAG,GACvBJ,EAAKH,EAASO,GAAG,GACjBH,EAAWJ,EAASO,GAAG,GAE3B,IAJA,IAGIC,GAAY,EACPC,EAAI,EAAGA,EAAIP,EAAS3L,OAAQkM,MACpB,EAAXL,GAAsBC,GAAgBD,IAAanN,OAAOyN,KAAKlB,EAAoBS,GAAGU,OAAM,SAASnS,GAAO,OAAOgR,EAAoBS,EAAEzR,GAAK0R,EAASO,GAAK,IAChKP,EAASU,OAAOH,IAAK,IAErBD,GAAY,EACTJ,EAAWC,IAAcA,EAAeD,IAG7C,GAAGI,EAAW,CACbR,EAASY,OAAOL,IAAK,GACrB,IAAIM,EAAIV,SACEjD,IAAN2D,IAAiB3E,EAAS2E,EAC/B,CACD,CACA,OAAO3E,CArBP,CAJCkE,EAAWA,GAAY,EACvB,IAAI,IAAIG,EAAIP,EAASzL,OAAQgM,EAAI,GAAKP,EAASO,EAAI,GAAG,GAAKH,EAAUG,IAAKP,EAASO,GAAKP,EAASO,EAAI,GACrGP,EAASO,GAAK,CAACL,EAAUC,EAAIC,EAwB/B,C,eC5BAZ,EAAoBsB,EAAI,SAASlB,GAChC,IAAImB,EAASnB,GAAUA,EAAOoB,WAC7B,WAAa,OAAOpB,EAAO,UAAY,EACvC,WAAa,OAAOA,CAAQ,EAE7B,OADAJ,EAAoByB,EAAEF,EAAQ,CAAEG,EAAGH,IAC5BA,CACR,C,eCNAvB,EAAoByB,EAAI,SAAStB,EAASwB,GACzC,IAAI,IAAI3S,KAAO2S,EACX3B,EAAoB4B,EAAED,EAAY3S,KAASgR,EAAoB4B,EAAEzB,EAASnR,IAC5EyE,OAAOoO,eAAe1B,EAASnR,EAAK,CAAE8S,YAAY,EAAMxE,IAAKqE,EAAW3S,IAG3E,C,eCPAgR,EAAoB+B,EAAI,WACvB,GAA0B,kBAAfC,WAAyB,OAAOA,WAC3C,IACC,OAAO9O,MAAQ,IAAI+O,SAAS,cAAb,EAChB,CAAE,MAAOC,GACR,GAAsB,kBAAXC,OAAqB,OAAOA,MACxC,CACA,CAPuB,E,eCAxBnC,EAAoB4B,EAAI,SAASQ,EAAKC,GAAQ,OAAO5O,OAAO6O,UAAUC,eAAejC,KAAK8B,EAAKC,EAAO,C,eCKtG,IAAIG,EAAkB,CACrB,IAAK,GAaNxC,EAAoBS,EAAEQ,EAAI,SAASwB,GAAW,OAAoC,IAA7BD,EAAgBC,EAAgB,EAGrF,IAAIC,EAAuB,SAASC,EAA4B1P,GAC/D,IAKIgN,EAAUwC,EALV/B,EAAWzN,EAAK,GAChB2P,EAAc3P,EAAK,GACnB4P,EAAU5P,EAAK,GAGI8N,EAAI,EAC3B,GAAGL,EAAS1L,MAAK,SAASnF,GAAM,OAA+B,IAAxB2S,EAAgB3S,EAAW,IAAI,CACrE,IAAIoQ,KAAY2C,EACZ5C,EAAoB4B,EAAEgB,EAAa3C,KACrCD,EAAoBO,EAAEN,GAAY2C,EAAY3C,IAGhD,GAAG4C,EAAS,IAAInG,EAASmG,EAAQ7C,EAClC,CAEA,IADG2C,GAA4BA,EAA2B1P,GACrD8N,EAAIL,EAAS3L,OAAQgM,IACzB0B,EAAU/B,EAASK,GAChBf,EAAoB4B,EAAEY,EAAiBC,IAAYD,EAAgBC,IACrED,EAAgBC,GAAS,KAE1BD,EAAgBC,GAAW,EAE5B,OAAOzC,EAAoBS,EAAE/D,EAC9B,EAEIoG,EAAqBC,KAAK,uBAAyBA,KAAK,wBAA0B,GACtFD,EAAmBnG,QAAQ+F,EAAqBM,KAAK,KAAM,IAC3DF,EAAmB3G,KAAOuG,EAAqBM,KAAK,KAAMF,EAAmB3G,KAAK6G,KAAKF,G,IC/CvF,IAAIG,EAAsBjD,EAAoBS,OAAE/C,EAAW,CAAC,MAAM,WAAa,OAAOsC,EAAoB,KAAO,IACjHiD,EAAsBjD,EAAoBS,EAAEwC,E","sources":["webpack://vue-app/./src/App.vue","webpack://vue-app/./src/views/TaskPage.vue","webpack://vue-app/./src/components/TaskList.vue","webpack://vue-app/./src/components/TaskItem.vue","webpack://vue-app/./src/components/SwitchControl.vue","webpack://vue-app/./src/components/SwitchControl.vue?c6de","webpack://vue-app/./src/components/Spinner.vue","webpack://vue-app/./src/components/Spinner.vue?1502","webpack://vue-app/./src/components/TaskItem.vue?6c0b","webpack://vue-app/./src/components/TaskList.vue?ba79","webpack://vue-app/./src/components/TaskAdd.vue","webpack://vue-app/./src/components/ImageUpload.vue","webpack://vue-app/./src/components/ImageUpload.vue?68da","webpack://vue-app/./src/components/VideoInput.vue","webpack://vue-app/./src/components/VideoInput.vue?4bf4","webpack://vue-app/./src/components/TaskAdd.vue?c418","webpack://vue-app/./src/components/TaskView.vue","webpack://vue-app/./src/components/TaskView.vue?273c","webpack://vue-app/./src/components/ConfirmDialog.vue","webpack://vue-app/./src/store/useConfirm.js","webpack://vue-app/./src/components/ConfirmDialog.vue?8c8a","webpack://vue-app/./src/views/TaskPage.vue?516b","webpack://vue-app/./src/constants/api.js","webpack://vue-app/./src/store/useTasks.js","webpack://vue-app/./src/store/useErrors.js","webpack://vue-app/./src/App.vue?7ccd","webpack://vue-app/./src/main.js","webpack://vue-app/webpack/bootstrap","webpack://vue-app/webpack/runtime/chunk loaded","webpack://vue-app/webpack/runtime/compat get default export","webpack://vue-app/webpack/runtime/define property getters","webpack://vue-app/webpack/runtime/global","webpack://vue-app/webpack/runtime/hasOwnProperty shorthand","webpack://vue-app/webpack/runtime/jsonp chunk loading","webpack://vue-app/webpack/startup"],"sourcesContent":["<template>\n  <TaskPage />\n</template>\n\n<script>\nimport TaskPage from './views/TaskPage.vue';\nimport useTasks from './store/useTasks';\nimport useErrors from './store/useErrors';\nimport { useConfirm } from './store/useConfirm';\n\nexport default {\n  name: 'App',\n  components: {\n    TaskPage\n  },\n  setup() {\n    const { handleError} = useErrors();\n    const { displayConfirmation } = useConfirm();\n    useTasks(handleError, displayConfirmation);\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n","<template>\n  <div class=\"page-container\">\n    <TaskList :parentId=\"null\" />\n    <TaskAdd v-if=\"['add', 'edit'].includes(displayPanel)\" />\n    <TaskView v-if=\"displayPanel == 'view'\" />\n  </div>\n  <ConfirmDialog></ConfirmDialog>\n</template>\n\n<script>\nimport { inject } from 'vue';\nimport TaskList from '@/components/TaskList.vue';\nimport TaskAdd from '@/components/TaskAdd.vue';\nimport TaskView from '@/components/TaskView.vue';\nimport ConfirmDialog from '@/components/ConfirmDialog.vue';\n\nexport default {\n  components: {\n    TaskList, TaskAdd, ConfirmDialog, TaskView,\n  },\n  setup() {\n    const {displayPanel} = inject('tasks');\n    return {\n      displayPanel,\n    }\n  }\n};\n</script>\n\n<style scoped>\n.page-container {\n  display: flex;\n}\n</style>","<template>\n  <div class=\"task-card\">\n    <div class=\"filter-bar\">\n      <!-- Search Input -->\n      <label for=\"taskSearch\">Search:</label>\n      <input \n        id=\"taskSearch\"\n        v-model.trim=\"search\" \n        placeholder=\"Search tasks...\" \n        aria-label=\"Search tasks\"\n      />\n\n      <!-- Status Filter Dropdown -->\n      <label for=\"taskStatusFilter\">✔:</label>\n      <select v-model=\"completion\" id=\"taskStatusFilter\" aria-label=\"Filter tasks by status\">\n          <option :value=\"null\">All</option>\n          <option :value=\"true\">Completed</option>\n          <option :value=\"false\">Uncompleted</option>\n      </select>\n\n      <!-- Filter Button -->\n      <button @click=\"applyFilter\" aria-label=\"Apply filter\">\n          <i class=\"filter-icon\">🔍</i> <!-- TODO SVG icon -->\n      </button>\n\n      <!-- Add Button -->\n      <button @click=\"displayAddTask(parentId)\" aria-label=\"Add a root task\">\n          <i class=\"filter-icon\">+📋</i> <!-- TODO SVG icon -->\n      </button>\n      <!-- Remove Selected Button -->\n      <button \n          @click=\"displayDeleteConfirm()\" \n          :disabled=\"!anyTaskSelected\"\n          aria-label=\"Remove selected tasks\"\n      >\n        🗑\n      </button>\n    </div>\n\n    <TaskItem\n      v-for=\"task in taskTree\"\n      :key=\"task.id\"\n      :task=\"task\"\n    />\n    <!-- \nLazy Loading \n    <div v-if=\"loading\" class=\"loading\">Loading...</div>\n    <v-dialog v-model=\"dialogVisible\" max-width=\"290\">\n      <v-card>\n        <v-card-title class=\"headline\">Are you sure?</v-card-title>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"green darken-1\" text @click=\"confirmAction\">Yes</v-btn>\n          <v-btn color=\"red darken-1\" text @click=\"dialogVisible = false\">No</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n-->\n  </div>\n</template>\n\n<script>\nimport { ref, computed, onMounted } from 'vue';\nimport { inject } from 'vue'\nimport TaskItem from './TaskItem.vue';\n\nexport default {\n  props: {\n    parentId: {\n      type: Number,\n      default: null\n    }\n  },\n  components: {\n    TaskItem,\n  },\n  setup(props) {\n    const {         \n      tasks,\n      loading,\n      displayAddTask,\n      fetchTasks,\n      displayDeleteConfirm,\n      displayCompletedConfirm,\n    } = inject('tasks');\n\n    const search = ref('');\n    const prevSearch = '';\n    const completion = ref(null);\n    const prevCompletion = null;\n    const page = ref(1);\n\n    onMounted(() => {\n      fetchTasks({ \n        search: search.value,\n        parentId: props.parentId,\n        page: page.value,\n        ...(completion.value !== null ? { completed: completion.value } : {}),\n      });\n    });\n\n    const taskTree = computed(() => {\n\n      const buildTree = (parentId) => {\n        return tasks.value\n          .filter(task => task.parent_id === parentId)\n          .map(task => {\n            const children = buildTree(task.id);\n            return children.length ? { ...task, children } : task;\n          });\n      };\n      return buildTree(props.parentId);\n    });\n\n    const anyTaskSelected = computed(() => {\n      return tasks.value.some(task => task.selected);\n    });\n\n    const applyFilter = () => {\n      if(props.parentId) return null; // filtering only applied to root level.\n      fetchTasks({\n        search,\n        parentId: null,\n        ...(completion.value !== null ? { completed: completion.value } : {}),\n        // new filter condition will refresh the list\n        page: (search.value !== prevSearch || completion.value !== prevCompletion) ? 1 : page.value,\n      });\n    };\n\n    return {\n      search,\n      completion,\n      loading,\n      taskTree,\n      tasks,\n      anyTaskSelected,\n      applyFilter,\n      displayAddTask,\n      displayDeleteConfirm,\n      displayCompletedConfirm,\n    };\n  }\n};\n</script>\n\n<style scoped>\n  .task-card {\n    border: 1px solid #ccc;\n    padding: 16px;\n    border-radius: 8px;\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n    max-width: 450px;\n  }\n</style>\n","<template>\n  <div class=\"task-container\">\n    <div class=\"task-row mb-2\">\n      <div class=\"task-col-1\">\n        <input \n            type=\"checkbox\" \n            :checked=\"task.selected\" \n            @change=\"toggleTaskSelected(task.id, $event.target.checked)\"\n        />\n      </div>\n      <div class=\"task-col-8\" @click=\"displayViewTask(task.id)\">\n        {{ task.name }}\n      </div>\n      <Spinner :loading=\"loading\" />\n      <div class=\"task-col-3 task-actions\">\n          <button class=\"icon-btn\" @click=\"displayDeleteConfirm(task.id)\">🗑</button>\n          <button class=\"icon-btn\" @click=\"displayAddTask(task.id)\">⨢📋</button>\n          <button class=\"icon-btn\" @click=\"displayEditTask(task.id)\">✎</button>\n          <!--<button class=\"icon-btn\" @click=\"task.completed ? setNotCompleted : setCompleted\" title=\"{{ task.completed ? 'Set the task as not completed' : 'Set the task as completed' }}\">\n              {{ task.completed ? '⸦◉' : '◉⸧' }}\n          </button>-->\n\n          <SwitchControl\n            :value=\"task.completed\"\n            @click=\"task.completed ? setNotCompleted : setCompleted\"\n            stringOn=\"Completed\"\n            stringOff=\"To do\"\n          /> \n          <button class=\"icon-btn\" @click=\"toggleTaskFold(task.id)\">\n              {{ task.folded ? '⏷' : '⏶' }}\n          </button>\n      </div>\n    </div>\n\n    <div v-if=\"!task.folded\" class=\"margin\">\n      <TaskItem\n          v-for=\"subtask in task.children\"\n          :key=\"subtask.id\"\n          :task=\"subtask\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\n  import { onUnmounted, inject } from 'vue';\n  import SwitchControl from './SwitchControl.vue';\n  import Spinner from './Spinner.vue';\n  \n  export default {\n    name: 'TaskItem',\n    components: {\n      SwitchControl, Spinner,\n    },\n    props: {\n      task: {\n        type: Object,\n        required: true\n      }\n    },\n    setup(props) {\n      const {\n        loading,\n        toggleTaskSelected,\n        displayAddTask,\n        displayEditTask,\n        displayViewTask,\n        toggleTaskFold,\n        displayDeleteConfirm,\n        displayCompletedConfirm,\n        setSubtasksSelected,\n        updateTask,\n      } = inject('tasks');\n\n      const setCompleted = () => {\n        displayCompletedConfirm(props.task.id);\n      }\n\n      const setNotCompleted = () => {\n        updateTask({...props.task, completed: true});\n      }\n  \n      onUnmounted(() => {\n        setSubtasksSelected(props.task.id, false);\n        toggleTaskSelected(props.task.id, false);\n        toggleTaskFold(props.task.id, false);\n      });\n  \n      return {\n        toggleTaskSelected,\n        displayAddTask,\n        displayEditTask,\n        displayViewTask,\n        toggleTaskFold,\n        displayDeleteConfirm,\n        displayCompletedConfirm,\n        loading,\n        setCompleted,\n        setNotCompleted,\n      };\n    }\n  };\n  </script>\n  \n  <style scoped>\n  .task-container {\n    font-family: 'Arial', sans-serif;\n  }\n  \n  .task-row {\n    display: flex;\n    align-items: center;\n  }\n  \n  .task-col-1, .task-col-8, .task-col-3 {\n    padding: 0.5rem;\n  }\n  \n  .task-col-1 {\n    flex: 1;\n  }\n  \n  .task-col-8 {\n    flex: 8;\n  }\n  \n  .task-col-3 {\n    flex: 3;\n    display: flex;\n    justify-content: space-between;\n  }\n  \n  .icon-btn {\n    background: none;\n    border: none;\n    cursor: pointer;\n    font-size: 1.2rem;\n    padding: 0.5rem;\n    transition: background-color 0.3s;\n  }\n  \n  .icon-btn:hover {\n    background-color: #f0f0f0;\n  }\n  \n  .mb-2 {\n    margin-bottom: 0.5rem;\n  }\n  \n  .task-actions {\n    display: flex;\n    gap: 0.5rem;\n    align-items: center;\n  }\n\n  .margin {\n    margin-left: 2rem;\n  }\n  </style>\n  ","<template>\n    <div class=\"switch-container\" :title=\"isOn ? stringOn : stringOff\">\n      <input \n        type=\"checkbox\" \n        v-model=\"isOn\" \n        class=\"switch\" \n        id=\"switch\"\n        @change=\"toggleSwitch\"\n      >\n      <label :class=\"{ 'switch-on': isOn }\" for=\"switch\"></label>\n    </div>\n  </template>\n  \n  <script>\n  export default {\n    name: 'SwitchControl',\n    props: {\n      stringOn: {\n        type: String,\n        default: 'On'\n      },\n      stringOff: {\n        type: String,\n        default: 'Off'\n      },\n      value: {\n        type: Boolean,\n        default: false\n      }\n    },\n    data() {\n      return {\n        isOn: this.value\n      }\n    },\n    methods: {\n      toggleSwitch() {\n        this.$emit('input', this.isOn);\n      }\n    }\n  }\n  </script>\n  \n  <style scoped>\n  .switch-container {\n    position: relative;\n    width: 60px;\n    height: 34px;\n  }\n  \n  .switch {\n    opacity: 0;\n    width: 0;\n    height: 0;\n  }\n  \n  label {\n    position: absolute;\n    cursor: pointer;\n    text-indent: -9999px;\n    top: 0;\n    left: 0;\n    width: 24px;\n    height: 8px;\n    background: grey;\n    display: block;\n    border-radius: 100px;\n    position: relative;\n    transition: background-color 0.3s;\n  }\n  \n  label:before {\n    content: '';\n    position: absolute;\n    top: -2px;\n    left: 2px;\n    width: 11px;\n    height: 11px;\n    background: #fff;\n    border-radius: 90px;\n    border: 1px solid gray;\n    transition: 0.3s;\n  }\n  \n  input:checked + label {\n    background: #3498db;\n  }\n  \n  input:checked + label:before {\n    left: calc(100% - 2px);\n    background: #3498db;\n    border: 2px solid black;\n    transform: translateX(-100%);\n  }\n  \n  label:active:before {\n    width: 35px;\n  }\n  \n  .switch-on {\n    background-color: #3498db;\n  }\n  </style>\n  ","import { render } from \"./SwitchControl.vue?vue&type=template&id=27098925&scoped=true\"\nimport script from \"./SwitchControl.vue?vue&type=script&lang=js\"\nexport * from \"./SwitchControl.vue?vue&type=script&lang=js\"\n\nimport \"./SwitchControl.vue?vue&type=style&index=0&id=27098925&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-27098925\"]])\n\nexport default __exports__","<template>\n    <div v-if=\"loading\" class=\"spinner\"></div>\n</template>\n  \n  <script>\n  export default {\n    name: 'RotationSpinner',\n    props: {\n      loading: {\n        type: Boolean,\n        default: true\n      }\n    }\n  }\n  </script>\n  \n  <style scoped>\n  .spinner {\n    border: 8px solid #f3f3f3;\n    border-top: 8px solid #3498db;\n    border-radius: 50%;\n    width: 50px;\n    height: 50px;\n    animation: spin 2s linear infinite;\n  }\n  \n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n  </style>\n  ","import { render } from \"./Spinner.vue?vue&type=template&id=0178a1e5&scoped=true\"\nimport script from \"./Spinner.vue?vue&type=script&lang=js\"\nexport * from \"./Spinner.vue?vue&type=script&lang=js\"\n\nimport \"./Spinner.vue?vue&type=style&index=0&id=0178a1e5&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0178a1e5\"]])\n\nexport default __exports__","import { render } from \"./TaskItem.vue?vue&type=template&id=8ec2872c&scoped=true\"\nimport script from \"./TaskItem.vue?vue&type=script&lang=js\"\nexport * from \"./TaskItem.vue?vue&type=script&lang=js\"\n\nimport \"./TaskItem.vue?vue&type=style&index=0&id=8ec2872c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-8ec2872c\"]])\n\nexport default __exports__","import { render } from \"./TaskList.vue?vue&type=template&id=e057e068&scoped=true\"\nimport script from \"./TaskList.vue?vue&type=script&lang=js\"\nexport * from \"./TaskList.vue?vue&type=script&lang=js\"\n\nimport \"./TaskList.vue?vue&type=style&index=0&id=e057e068&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e057e068\"]])\n\nexport default __exports__","<template>\n    <div class=\"task-card\" v-if=\"currentTask\">\n      <div class=\"task-card-title\">\n        <span v-if=\"currentTask.parent_id === null\">New root task</span>\n        <span v-else-if=\"currentTask\">New subtask of {{ parentName }}</span>\n      </div>\n  \n      <div class=\"task-card-content\">\n        <div class=\"input-group\">\n          <label for=\"task-name\">Name</label>\n          <input \n            id=\"task-name\"\n            v-model=\"currentTask.name\"\n            type=\"text\"\n            :class=\"{ 'is-invalid': nameError }\"\n          />\n          <div v-if=\"nameError\" class=\"error-message\">{{ nameError }}</div>\n        </div>\n  \n        <div class=\"input-group\">\n          <label>\n            <input type=\"checkbox\" v-model=\"currentTask.completed\" />\n            Completed\n          </label>\n        </div>\n  \n        <div class=\"input-group\">\n            <label for=\"task-image\">Image</label>\n            <ImageUpload \n                :image=\"currentTask.image_path\"\n                @removeImage=\"handleRemoveImage\"\n                @newImage=\"handleNewImage\"\n                @error=\"handleImageError\"\n            />\n\n            <div v-if=\"imageError\" class=\"error-message\">{{ imageError }}</div>\n        </div>\n  \n        <div class=\"input-group\">\n          <label>Video URL</label>\n          <VideoInput @video_link=\"handleVideoUrl\" @error=\"handleVideoError\" />\n\n          <div v-if=\"videoUrlError\" class=\"error-message\">{{ videoUrlError }}</div>\n        </div>\n  \n        <button \n          :disabled=\"!isValid || loading.value\"\n          @click=\"submitForm\"\n        >\n          <span v-if=\"loading.value\">🔄</span> <!-- Spinner icon -->\n          Submit\n        </button>\n  \n        <button @click=\"setPanelOff\">Close</button>\n      </div>\n    </div>\n    <div v-else>\n        <Spinner :loading=\"loading\"></Spinner>\n    </div>\n</template>  \n  \n<script>\nimport { ref, computed, inject } from 'vue';\nimport ImageUpload from './ImageUpload.vue';\nimport VideoInput from './VideoInput.vue';\nimport Spinner from './Spinner.vue';\n\nexport default {\n  name: 'AddTaskForm',\n  components: {\n    ImageUpload,\n    VideoInput,\n    Spinner,\n  },\n  setup() {\n    const { tasks, loading, setPanelOff, displayViewTask, addTask, currentTask } = inject('tasks');\n\n    const nameError = ref('');\n    const imageError = ref('');\n    const videoUrlError = ref('');\n\n    function validateName() {\n        if (!currentTask.value.name) {\n            nameError.value = 'Name is required';\n            return false;\n        }\n        if (currentTask.value.name.length < 3 || currentTask.value.name.length > 255) {\n            nameError.value = 'Name must be between 3 and 255 characters';\n            return false;\n        }\n        nameError.value = '';\n        return true;\n    }\n\n    function validateImage() {\n        if (currentTask.newImage && currentTask.newImage.size >= 2000000) {\n            imageError.value = 'Image size should be less than 2 MB';\n            return false;\n        }\n        imageError.value = '';\n        return true;\n    }\n\n    function validateVideoUrl() {\n        if (currentTask.video_link && !/^(https:\\/\\/)?(www\\.youtube\\.com|youtu\\.?be)\\/.+$/g.test(currentTask.video_link)) {\n            videoUrlError.value = 'Invalid YouTube URL';\n            return false;\n        }\n        videoUrlError.value = '';\n        return true;\n    }\n\n    const isValid = computed(() => {\n        return validateName() && validateImage() && validateVideoUrl();\n    });\n\n    const parentName = computed(() => {\n        const parentTask = tasks.value.find(task => task.id === currentTask.value.parent_id);\n        return parentTask ? parentTask.name : '';\n    });\n\n    function handleRemoveImage(newValue) {\n        currentTask.value.removeImage = newValue;\n    }\n    function handleNewImage(file) {\n        currentTask.value.newImage = file;\n    }\n    function handleImageError(message) {\n        imageError.value = message;\n    }\n\n    function handleVideoUrl(url) {\n        currentTask.value.video_link = url;\n    }\n    function handleVideoError(message) {\n        videoUrlError.value = message;\n    }\n\n    async function submitForm() {\n        const newId = await addTask(currentTask.value);\n        if (newId) {\n            displayViewTask(newId);\n        }\n    }\n\n    return {\n        nameError,\n        imageError,\n        videoUrlError,\n        currentTask,\n        handleVideoUrl,\n        handleVideoError,\n        isValid,\n        parentName,\n        loading,\n        setPanelOff,\n        submitForm,\n        handleRemoveImage,\n        handleNewImage,\n        handleImageError,\n    };\n  }\n};\n</script>\n\n<style scoped>\n.task-card {\n  border: 1px solid #ccc;\n  padding: 16px;\n  border-radius: 8px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  max-width: 500px;\n  min-width: 300px;\n}\n\n.task-card-title {\n  font-weight: bold;\n  margin-bottom: 16px;\n  font-size: 1.5rem;\n  color: #3F51B5; /* Material Design primary color */\n}\n\n.task-card-content {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 16px;\n}\n\n.input-group, \n.input-group label, \n.input-group input[type=\"checkbox\"] + span {\n  grid-column: span 2;\n}\n\n.input-group label {\n  display: block;\n  margin-bottom: 8px;\n  color: #3F51B5;\n}\n\n.input-group input,\n.input-group button {\n  width: calc(100% - 32px);\n  padding: 10px;\n  border-radius: 4px;\n  border: 1px solid #ccc;\n  font-size: 1rem;\n}\n\n.input-group input[type=\"checkbox\"] {\n  width: auto;\n}\n\n.input-group input[type=\"checkbox\"] + span {\n  margin-left: 8px;\n}\n\n.input-group input:focus {\n  outline: none;\n  border-color: #3F51B5;\n}\n\n.error-message {\n  color: #f44336; /* Material Design error color */\n  font-size: 12px;\n  margin-top: 4px;\n}\n\n.is-invalid {\n  border-color: #f44336;\n}\n\nbutton {\n  background-color: #3F51B5;\n  color: #fff;\n  cursor: pointer;\n  transition: background-color 0.3s;\n}\n\nbutton:disabled {\n  background-color: #ccc;\n  cursor: not-allowed;\n}\n\nbutton:hover:not(:disabled) {\n  background-color: #303F9F;\n}\n\nbutton + button {\n  margin-left: 16px;\n}\n</style>\n\n\n","<template>\n    <div>\n        <!-- Unified Image Preview -->\n        <div class=\"image-preview\" @click=\"selectImage\">\n            <template v-if=\"selectedImage\">\n                <img :src=\"selectedImage\" class=\"image-element\" alt=\"Selected Image\" />\n            </template>\n            <template v-else-if=\"image\">\n                <img :src=\"image\" class=\"image-element\" alt=\"Uploaded Image\" />\n            </template>\n            <template v-else>\n            No Image\n            </template>\n        </div>\n    \n        <!-- Controls under the preview -->\n        <div class=\"controls\">\n            <div v-if=\"image\">\n                <input type=\"checkbox\" v-model=\"removeImage\" /> Delete\n            </div>\n            <div v-if=\"selectImage\">\n                <button v-if=\"selectedImage\" @click=\"cancelImage\">⎌</button>\n            </div>\n        </div>\n        \n        <!-- Hidden Image Input -->\n        <input type=\"file\" ref=\"fileInput\" @change=\"handleImageChange\" style=\"display: none\" />\n    </div>\n</template>\n  \n<script>\n  export default {\n    props: {\n      image: {\n        type: String,\n        default: ''\n      }\n    },\n    data() {\n      return {\n        removeImage: false,\n        selectedImage: null\n      };\n    },\n    methods: {\n      selectImage() {\n        this.$refs.fileInput.click();\n      },\n      handleImageChange(event) {\n        const file = event.target.files[0];\n        if (file) {\n          this.selectedImage = URL.createObjectURL(file);\n          this.$emit('newImage', file);\n        } else {\n          this.$emit('error', 'Failed to load the image.');\n        }\n      },\n      cancelImage() {\n        this.selectedImage = null;\n      }\n    },\n    watch: {\n      removeImage(newValue) {\n        this.$emit('removeImage', newValue);\n      }\n    }\n  };\n  </script>\n  \n  <style scoped>\n\n  .image-element {\n    object-fit: contain;\n    width: 100%;\n    max-height: 400px;\n  }\n  .image-preview {\n    padding: 20px;\n    border: 1px dashed #ccc;\n    text-align: center;\n    cursor: pointer;\n  }\n  \n  .controls {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-top: 10px;\n  }\n  </style>\n  ","import { render } from \"./ImageUpload.vue?vue&type=template&id=7ff78adb&scoped=true\"\nimport script from \"./ImageUpload.vue?vue&type=script&lang=js\"\nexport * from \"./ImageUpload.vue?vue&type=script&lang=js\"\n\nimport \"./ImageUpload.vue?vue&type=style&index=0&id=7ff78adb&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7ff78adb\"]])\n\nexport default __exports__","<template>\n    <div>\n      <input\n        v-model=\"inputUrl\"\n        placeholder=\"Paste or write a YouTube URL here\"\n        @input=\"validateUrl\"\n        class=\"input\"\n      />   \n      <LiteYouTubeEmbed v-if=\"isValid\" :id=\"videoId\"></LiteYouTubeEmbed>\n    </div>\n  </template>\n  \n  <script>\n  import { ref, watch } from 'vue';\n  import LiteYouTubeEmbed from 'vue-lite-youtube-embed'\n  import 'vue-lite-youtube-embed/style.css'\n  \n  export default {\n    name: 'VideoInput',\n    components: {\n      LiteYouTubeEmbed,\n    },\n    props: {\n      video_link: {\n        type: String,\n        default: '',\n      },\n    },\n    emits: ['video_link', 'error'],\n    setup(props, { emit }) {\n      const inputUrl = ref(props.video_link);\n      const isValid = ref(false);\n      const videoId = ref('');\n      const errorMessage = ref('');\n  \n      const validateUrl = () => {\n        const youtubeRegex = /^(https?:\\/\\/)?(www\\.)?(youtube\\.com|youtu\\.?be)\\/.+$/;\n        if (youtubeRegex.test(inputUrl.value)) {\n          const videoRegex = /(?:v=|\\/)([0-9A-Za-z_-]{10,12})/;\n          const match = !inputUrl.value || inputUrl.value.match(videoRegex);\n          if (match) {\n            videoId.value = match[1];\n            isValid.value = true;\n            errorMessage.value = '';\n            emit('video_link', inputUrl.value);\n            emit('error', '');\n          } else {\n            isValid.value = false;\n            errorMessage.value = 'Invalid YouTube video URL';\n            emit('error', errorMessage.value);\n          }\n        } else {\n          isValid.value = false;\n          errorMessage.value = 'Invalid URL';\n          emit('error', errorMessage.value);\n        }\n      };\n  \n      watch(\n        () => props.video_link,\n        (newUrl) => {\n          inputUrl.value = newUrl;\n          validateUrl();\n        }\n      );\n  \n      return {\n        inputUrl,\n        isValid,\n        videoId,\n        errorMessage,\n        validateUrl,\n      };\n    },\n  };\n  </script>\n  \n<style scoped>\n.input {\n  border: 1px solid darkslategray;\n  border-radius: 3px;\n  padding: 4px;\n  margin-bottom: 1rem;\n}\n</style>\n  ","import { render } from \"./VideoInput.vue?vue&type=template&id=c846a83c&scoped=true\"\nimport script from \"./VideoInput.vue?vue&type=script&lang=js\"\nexport * from \"./VideoInput.vue?vue&type=script&lang=js\"\n\nimport \"./VideoInput.vue?vue&type=style&index=0&id=c846a83c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-c846a83c\"]])\n\nexport default __exports__","import { render } from \"./TaskAdd.vue?vue&type=template&id=078770a6&scoped=true\"\nimport script from \"./TaskAdd.vue?vue&type=script&lang=js\"\nexport * from \"./TaskAdd.vue?vue&type=script&lang=js\"\n\nimport \"./TaskAdd.vue?vue&type=style&index=0&id=078770a6&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-078770a6\"]])\n\nexport default __exports__","<template>\n    <div class=\"task-card\" v-if=\"currentTask\">\n        <div class=\"task-card-header\">\n            <div class=\"task-card-title\">\n              {{ currentTask.name }}\n            </div>\n            <button class=\"closing\" @click=\"setPanelOff()\">\n                X\n            </button>\n        </div>\n  \n      <div class=\"task-card-content\">\n  \n        <div class=\"input-group\">\n          <label>\n            {{ currentTask.completed ? 'Completed' : 'TO DO' }}\n          </label>\n        </div>\n  \n        <div class=\"image-preview\">\n            <template v-if=\"currentTask.image_path\">\n                <img :src=\"currentTask.image_path\" class=\"image-element\" alt=\"Uploaded Image\" />\n            </template>\n            <template v-else>\n                No Image\n            </template>\n        </div>\n  \n        <div class=\"input-group\">\n            <label>Video URL</label>\n            <div v-if=\"currentTask.video_link\">\n                <div>{{ currentTask.video_link }}</div>\n                <LiteYouTubeEmbed :id=\"videoId\"></LiteYouTubeEmbed>\n            </div>\n            <div v-else>\n                No video\n            </div>\n\n          <div v-if=\"videoUrlError\" class=\"error-message\">{{ videoUrlError }}</div>\n        </div>\n      </div>\n    </div>\n    <div v-else>\n        <Spinner :loading=\"loading\"></Spinner>\n    </div>\n</template>  \n  \n<script>\nimport { inject, computed } from 'vue';\nimport Spinner from './Spinner.vue';\nimport LiteYouTubeEmbed from 'vue-lite-youtube-embed'\nimport 'vue-lite-youtube-embed/style.css'\n\nexport default {\n  name: 'AddTaskForm',\n  components: {\n    Spinner, LiteYouTubeEmbed,\n  },\n  setup() {\n    const { loading, setPanelOff, currentTask } = inject('tasks');\n\n    const videoId = computed(() => {\n        if(!currentTask.value.video_link) return '';\n        const videoRegex = /(?:v=|\\/)([0-9A-Za-z_-]{10,12})/;\n        const match = currentTask.value.video_link.match(videoRegex);\n        if (!match || !match[1]) return '';\n        return match[1]\n    });\n\n    return {\n        loading,\n        setPanelOff,\n        currentTask,\n        videoId,\n    };\n  }\n};\n</script>\n\n<style scoped>\n.task-card {\n  border: 1px solid #ccc;\n  padding: 16px;\n  border-radius: 8px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  max-width: 500px;\n  min-width: 300px;\n}\n.task-card-header {\n    display: flex;\n    justify-content: space-between;\n}\n.task-card-title {\n  font-weight: bold;\n  margin-bottom: 16px;\n  font-size: 1.3rem;\n  color: #3F51B5; /* Material Design primary color */\n}\n\n.task-card-content {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 16px;\n}\n\n.input-group, \n.input-group label, \n.input-group input[type=\"checkbox\"] + span {\n  grid-column: span 2;\n}\n\n.input-group label {\n  display: block;\n  margin-bottom: 8px;\n  color: #3F51B5;\n}\n\n.input-group input,\n.input-group button {\n  width: calc(100% - 32px);\n  padding: 10px;\n  border-radius: 4px;\n  border: 1px solid #ccc;\n  font-size: 1rem;\n}\n\n.input-group input[type=\"checkbox\"] {\n  width: auto;\n}\n\n.input-group input[type=\"checkbox\"] + span {\n  margin-left: 8px;\n}\n\n.input-group input:focus {\n  outline: none;\n  border-color: #3F51B5;\n}\n\n.error-message {\n  color: #f44336; /* Material Design error color */\n  font-size: 12px;\n  margin-top: 4px;\n}\n\n.is-invalid {\n  border-color: #f44336;\n}\n\nbutton {\n  background-color: #3F51B5;\n  color: #fff;\n  cursor: pointer;\n  transition: background-color 0.3s;\n}\n\nbutton:disabled {\n  background-color: #ccc;\n  cursor: not-allowed;\n}\n\nbutton:hover:not(:disabled) {\n  background-color: #303F9F;\n}\n\nbutton + button {\n  margin-left: 16px;\n}\n\n.image-element {\n    object-fit: contain;\n    width: 100%;\n    max-height: 400px;\n}\n.image-preview {\n    padding: 20px;\n    border: 1px dashed #ccc;\n    text-align: center;\n    cursor: pointer;\n}\n</style>\n\n\n","import { render } from \"./TaskView.vue?vue&type=template&id=4758d650&scoped=true\"\nimport script from \"./TaskView.vue?vue&type=script&lang=js\"\nexport * from \"./TaskView.vue?vue&type=script&lang=js\"\n\nimport \"./TaskView.vue?vue&type=style&index=0&id=4758d650&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4758d650\"]])\n\nexport default __exports__","<template>\n    <div v-if=\"confirmStatus == confirmStatuses.asking\" class=\"dialog\">\n      <div class=\"card\">\n        <h2 class=\"card-title\">{{ question[0] }}</h2>\n        <ul>\n            <li class=\"card-li\" v-for=\"(line, idx) in question.slice(1)\" :key=\"idx\">\n                {{ line }}\n            </li>\n        </ul>\n        <div class=\"card-actions\">\n          <button class=\"btn btn-green\" @click=\"accept()\">Yes</button>\n          <button class=\"btn btn-red\" @click=\"cancel()\">Cancel</button>\n        </div>\n      </div>\n    </div>\n</template>\n\n<script>\nimport { inject } from 'vue';\nimport { confirmStatuses } from '@/store/useConfirm';\n\nexport default {\n    name: 'ConfirmDialog',\n    setup() {\n        const {\n            confirmStatus,\n            question,\n        } = inject('confirm');\n\n        function accept() {\n            confirmStatus.value = confirmStatuses.confirmed;\n        }\n\n        function cancel() {\n            confirmStatus.value = confirmStatuses.canceled;\n            setTimeout(() => {\n                confirmStatus.value = confirmStatuses.none;\n            }, 1000);\n        }\n\n        return {\n            question,\n            confirmStatus,\n            confirmStatuses,\n            accept,\n            cancel,\n        }\n    }\n}\n</script>\n\n<style>\n.dialog {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.5);\n    z-index: 1000;\n}\n\n.card {\n    max-width: 290px;\n    background-color: #fff;\n    padding: 20px;\n    border-radius: 8px;\n    box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);\n}\n\n.card-title {\n    font-size: 1.5rem;\n    margin-bottom: 20px;\n}\n.card-li {\n    font-size: 1.2rem;\n    margin-bottom: 12px;\n}\n\n.card-actions {\n    display: flex;\n    justify-content: space-between;\n    margin-top: 20px;\n}\n\n.btn {\n    padding: 10px 20px;\n    border: none;\n    border-radius: 4px;\n    cursor: pointer;\n    font-size: 1rem;\n    transition: background-color 0.3s;\n}\n\n.btn-green {\n    background-color: #4CAF50;\n    color: #fff;\n}\n\n.btn-green:hover {\n    background-color: #388E3C;\n}\n\n.btn-red {\n    background-color: #F44336;\n    color: #fff;\n}\n\n.btn-red:hover {\n    background-color: #D32F2F;\n}\n</style>\n","import { ref, watch, provide } from \"vue\";\n\nconst confirmStatuses = {\n    none: 'none',\n    asking: 'asking',\n    confirmed: 'confirmed',\n    canceled: 'canceled',\n}\n/**\n * State hook for confirm dialog operations\n */\nfunction useConfirm() {\n    const confirmStatus = ref(confirmStatuses.none);\n    const question = ref([]); // paragraphs to include\n    const success = ref(false);\n\n    /**\n     * Creates a promise for confirmation dialog\n     * @returns {Promise<boolean>}\n     */\n    const confirmPromise = () => {\n        return new Promise((resolve) => {\n            const unwatch = watch(confirmStatus, (newStatus, oldStatus) => {\n                if (oldStatus !== confirmStatuses.asking) {\n                    unwatch(); // promise should never been created\n                    resolve(false);\n                    return false;\n                }\n                if (newStatus === confirmStatuses.confirmed || newStatus === confirmStatuses.cancel) {\n                    unwatch(); // Stop watching once the condition is met\n                    resolve(newStatus === confirmStatuses.confirmed);\n                }\n            });\n        });\n    };\n\n    /**\n     * Display the confirm dialog\n     * @param {Array<string>} messages\n     * @param {function(): Promise.<boolean>} action.\n     */\n    const displayConfirmation = async(messages, action) => {\n        confirmStatus.value = confirmStatuses.asking;\n        question.value = messages;\n        await confirmPromise();\n        if(confirmStatus.value === confirmStatuses.confirmed) {\n            success.value = await action(); \n        }\n        confirmStatus.value = confirmStatuses.none; // closes the dialog\n    }\n\n\n    provide('confirm', {\n        confirmStatus,\n        question,\n        success,\n        displayConfirmation,\n    });\n\n    return {displayConfirmation};\n}\n\nexport {confirmStatuses, useConfirm};","import { render } from \"./ConfirmDialog.vue?vue&type=template&id=49307fb0\"\nimport script from \"./ConfirmDialog.vue?vue&type=script&lang=js\"\nexport * from \"./ConfirmDialog.vue?vue&type=script&lang=js\"\n\nimport \"./ConfirmDialog.vue?vue&type=style&index=0&id=49307fb0&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./TaskPage.vue?vue&type=template&id=3b456e1c&scoped=true\"\nimport script from \"./TaskPage.vue?vue&type=script&lang=js\"\nexport * from \"./TaskPage.vue?vue&type=script&lang=js\"\n\nimport \"./TaskPage.vue?vue&type=style&index=0&id=3b456e1c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3b456e1c\"]])\n\nexport default __exports__","export const API_BASE_URL = process.env.VUE_APP_API_BASE_URL || 'http://localhost:8765';\nexport const TASKS_ENDPOINT = `${API_BASE_URL}/api/tasks`;\n","import { provide, ref } from 'vue'\nimport axios from 'axios';\nimport { TASKS_ENDPOINT } from '@/constants/api';\n\n/**\n * @typedef {Object} Task\n * \n * @property {(number|string)=} id - The ID of the task, which can be a number or a UUID. Optional.\n * @property {string} name - The name of the task.\n * @property {boolean} completed - Indicates whether the task is completed.\n * @property {(number|string|null)} parentId - The ID of the parent task, which can be a number, a UUID, or null.\n * @property {File=} newImage - The image to upload to be associated with the task. Optional.\n * @property {boolean=} removeImage - The image associated with the task. Optional.\n * @property {string=} image_path - The image associated with the task. Optional.\n * @property {string=} video_link - The URL of the video associated with the task. Optional.\n * @property {boolean} selected - UI variable.\n * @property {boolean} folded - UI variable.\n * @property {array} children - UI variable.\n */\n\nfunction findDescendants(taskId, tree) {\n    let descendants = [];\n    \n    for (const task of tree) {\n        if (task.parentId === taskId) {\n            descendants.push(task.id);\n            descendants = descendants.concat(findDescendants(task.id, tree));\n        }\n    }\n    \n    return descendants;\n}\n\nfunction getBaseTask(parentId) {\n    return {...{\n        parent_id: parentId,\n        name: '',\n        image_path: '',\n        video_link: '',\n        completed: false,\n        newImage: null,\n        removeImage: false,\n        selected: false,\n        folded: true,\n        children: [],\n    }}\n}\n\n/**\n * State hook for tasks operations\n */\nexport default function useTasks(handleError, displayConfirmation) {\n    const tasks = ref([]);\n    const currentTask = ref(getBaseTask(null));\n    const loading = ref(false);\n    const displayPanel = ref(''); // 'view'|'edit'|'add'\n\n    // internal functions\n    \n    /**\n     * Add loaded elements into the tasks list\n     * @param {Array<Task>} newList \n     */\n    const mergeTasks = (newList) => {\n        let result = [...tasks.value];\n    \n        newList.forEach(newItem => {\n            const found = result.find(({id}) => id === newItem.id);\n            if (found) {\n                Object.assign(found, newItem);\n            } else {\n                result.push(newItem);\n            }\n        });\n    \n        tasks.value = result;\n    }\n\n    // Local state\n    const setSubtasksSelected = (taskId, selected) => {\n        const descendants = findDescendants(taskId, tasks.value);\n        if(!descendants.length) return;\n        tasks.value = tasks.value.map((task) => ({\n            ...task,\n            selected: descendants.includes(task.id) ? selected : task.selected,\n        }));   \n    }\n\n    const toggleTaskSelected = (taskId, selected) => {\n        tasks.value = tasks.value.map((task) =>({\n            ...task,\n            selected: task.id === taskId ? selected : task.selected,\n        }));\n        if(selected) {\n            setSubtasksSelected(taskId, selected);\n        }\n    }\n\n    const getSelectedIds = () => {\n        return tasks.value.filter(({ selected }) => selected).map(({id}) => id);\n    }\n\n    /**\n     * set the values to make visible the panel for adding a task\n     * @param {object} task with image and video values\n     */\n    const setViewTaskOn = (task) => {\n        currentTask.value = task;\n        displayPanel.value = 'view';\n    }\n\n    /**\n     * set the values to make visible the panel for adding a task\n     * @param {ID} parentId \n     */\n    const setAddTaskOn = (parentId) => {\n        currentTask.value = getBaseTask(parentId);\n        displayPanel.value = 'add';\n    }\n\n    /**\n     * set the values to make visible the panel for adding a task\n     * @param {object} task with image and video values\n     */\n    const setEditTaskOn = (task) => {\n        currentTask.value = task;\n        displayPanel.value = 'edit';\n    }   \n\n    /**\n     * set value for hide side panel\n     */\n    const setPanelOff = () => {\n        displayPanel.value = '';\n    }\n\n    // Server data\n\n    /**\n     * load more data from the task\n     * @param {number} taskId \n     * @returns {object | null}\n     */\n    const fetchTaskData = async(taskId) => {\n        loading.value = true;\n        let data = null;\n        try {\n            displayPanel.value = 'view';\n            const response = await axios.get(`${TASKS_ENDPOINT}/${taskId}.json`);\n            if(response.error) throw new Error(response.error);\n            if(!response.data?.task) throw new Error('Bad response form');\n            mergeTasks([response.data.task]);\n            data = response.data.task;\n        } catch(error) {\n            handleError(error, 'Failed to fetch more tasks.');\n        } finally {\n            loading.value = false;\n        }\n        return data;\n    }\n\n    /**\n     * load list of tasks into the task list\n     * @param {number} taskId \n     * @returns {object | null}\n     */\n    const fetchTasks = async(params) => {\n        loading.value = true;\n        let success = false;\n        const { parentId = 0, page = 1, search = ''} = params;\n        try {\n            const response = await axios.get(`${TASKS_ENDPOINT}.json`, {\n                params: {\n                    parentId,\n                    page,\n                    search,\n                    ...(params.completed !== undefined ? { completed: params.completed} : {}),\n                }\n            });\n            if(response.error) throw new Error(response.error);\n            if(!Array.isArray(response.data?.tasks)) throw new Error('Bad data format');\n            // if it is a new search, refresh the list\n            if(!parentId && page === 1) {\n                tasks.value = response.data.tasks;\n            } else {\n                mergeTasks(response.data.tasks);\n            }\n            success = true;\n        } catch (error) {\n            handleError(error, 'Failed to fetch more tasks.');\n        } finally {\n            loading.value = false;\n        }\n        return success;\n    }\n\n    /**\n     * toggle the view of subtasks. If it will unfold, it loads the content\n     * @param {number|string} taskId\n     * @returns {Promise<boolean>} \n     */\n    const toggleTaskFold = async (taskId) => {\n        const task = tasks.value.find((task) => (task.id !== taskId));\n        if(task.folded) {\n            mergeTasks([{...task, folded: !task.folded}]);\n            return true;\n        }\n        const fetched = await fetchTasks({ parentId: taskId });\n        if(!fetched) return false;\n        mergeTasks([{...task, folded: !task.folded}]);\n        return true;\n    };\n\n    /**\n     * Creates a task in database\n     * @param {Task} taskData \n     * @returns {Promise<number | null>}\n     */\n    const addTask = async(taskData) => {\n        loading.value = false;\n        let newId = null;\n        try {\n            const formData = new FormData();\n            for (const key in taskData) {\n                const value = (() => {\n                    if(typeof taskData[key] === 'boolean') {\n                        return taskData[key] ? 1 : 0;\n                    }\n                    return taskData[key]\n                })()\n                formData.append(key, value);\n            }\n            const response = await axios.post(`${TASKS_ENDPOINT}.json`, formData, {\n                headers: {\n                    'Content-Type': 'multipart/form-data'\n                }\n            });\n            if(response.error) throw new Error(response.error);\n            if(!response.data?.task) throw new Error('Bad response form');\n            tasks.value.push(response.data.task);\n            newId = response.data.task.id;\n        } catch (error) {\n            handleError(error, 'Error adding task.');\n        } finally {\n            loading.value = false;\n        }\n        return newId;\n    }\n\n    /**\n     * Updates a task in database\n     * @param {Task} taskData \n     * @returns {Promise<boolean>}\n     */\n    const updateTask = async(taskData) => {\n        loading.value = false;\n        let success = false;\n        try {\n            const formData = new FormData();\n            for (const key in taskData) {\n                formData.append(key, taskData[key]);\n            }\n            const response = await axios.put(`${TASKS_ENDPOINT}/${taskData.id}`, formData);\n            if(response.error) throw new Error(response.error);\n            mergeTasks([taskData]);\n        } catch (error) {\n            handleError(error, 'Error adding task.');\n        } finally {\n            loading.value = false;\n        }\n        return success;\n    }\n\n    /**\n     * Deletes a set of tasks in database\n     * @param {Array<number | string>} tasksIds \n     * @returns {Promise<boolean>}\n     */\n    const deleteTasks = async(tasksIds) => {\n        loading.value = false;\n        let success = false;\n        try {\n            const response = await axios.patch(`${TASKS_ENDPOINT}/1.json`, {\n                action: 'delete',\n                tasksIds,\n            });\n            if(response.error) throw new Error(response.error);\n            tasks.value = tasks.value.filter(({id}) => !tasksIds.includes(id));\n        } catch (error) {\n            handleError(error, 'Error adding task.');\n        } finally {\n            loading.value = false;\n        }\n        return success;\n    }\n\n    /**\n     * Mark as complete a set of tasks in database\n     * @param {Array<number | string>} tasksIds \n     * @returns {Promise<boolean>}\n     */\n    const completeTasks = async(tasksIds) => {\n        loading.value = false;\n        let success = false;\n        try {\n            const response = await axios.patch(`${TASKS_ENDPOINT}`, {\n                action: 'complete',\n                tasksIds,\n            });\n            if(response.error) throw new Error(response.error);\n            tasks.value = tasks.value.map((task) => {\n                if(!tasksIds.includes(task.id)) return task;\n                return {...task, completed: true};\n            });\n        } catch (error) {\n            handleError(error, 'Error completing tasks.');\n        } finally {\n            loading.value = false;\n        }\n        return success;\n    }\n\n    /**\n     * fetch data and expose to panel\n     * @param {number} taskId\n     */\n    const displayViewTask = async(taskId) => {\n        const fetched = await fetchTaskData(taskId);\n        if(!fetched) { return }\n        setViewTaskOn(fetched);\n    }\n\n    /**\n     * fetch data and expose to form to edit\n     * @param {number} taskId\n     */\n    const displayEditTask = async(taskId) => {\n        const fetched = await fetchTaskData(taskId);\n        if(!fetched) { return }\n        setEditTaskOn(fetched);\n    }\n\n    /**\n     * display panel for adding\n     * async for compatibility\n     * \n     * @param {number | null} parentId\n     */\n    const displayAddTask = async(parentId) => {\n        setAddTaskOn(parentId);\n    }\n\n\n    /**\n     * display confirmation modal for deleting\n     * \n     * @param {number | null} taskId. Null for selected\n     * @returns {Promise<null>}\n     */\n    const displayDeleteConfirm = async (taskId) => {\n        const toDelete = taskId ? [...findDescendants(taskId, tasks.value), taskId] : getSelectedIds();\n        const messages = [\n            'Are you sure you want to delete the following tasks?',\n            ...tasks.value.filter(({ id }) => toDelete.includes(id)).map(({ name  }) => name),\n        ]\n        const done = await displayConfirmation(messages, () => deleteTasks(toDelete));\n        return done;\n    }\n\n    /**\n     * display panel for adding\n     * \n     * @param {number | null} taskId. Null for selected\n     * @returns {Promise<null>}\n     */\n    const displayCompletedConfirm = async (taskId) => {\n        const toComplete = taskId ? [...findDescendants(taskId, tasks.value), taskId] : getSelectedIds();\n        const messages = [\n            'Are you sure to mark the following tasks as completed?',\n            ...tasks.value.filter(({ id }) => toComplete.includes(id)).map(({ name  }) => name),\n        ]\n        const done = await displayConfirmation(messages, () => completeTasks(toComplete));\n        return done;\n    }\n\n    provide('tasks', {\n        tasks,\n        currentTask,\n        displayPanel,\n        loading,\n        setSubtasksSelected,\n        toggleTaskSelected,\n        setPanelOff,\n        displayAddTask,\n        displayEditTask,\n        displayViewTask,\n        fetchTasks,\n        addTask,\n        updateTask,\n        displayDeleteConfirm,\n        displayCompletedConfirm,\n        toggleTaskFold,\n    });\n}","import { provide, ref } from 'vue'\n\n\nexport default function useErrors() {\n    const uiError = ref(null),\n        logError = ref(null);\n  \n    const setError = ({ uiMessage, logMessage }) => {\n        uiError.value = uiMessage;\n        logError.value = logMessage;\n        console.error(logMessage); // TODO: use logging service\n    }\n\n\n    /**\n     * Centralized error handling.\n     * @param {Object} error - The error object.\n     * @param {Object} error.response - The response object from axios (if it's a server error).\n     * @param {string} error.response.data - The error message from the server.\n     * @param {string} [comment] - An optional comment to add to the error message.\n     */\n    function handleError(error, comment = '') {\n        let uiMessage, logMessage;\n        // Check if the error response from the server contains a message\n        const serverMessage = error.response && error.response.data && error.response.data.message;\n        if(serverMessage) {\n            // Define user-friendly messages for specific error scenarios\n            const userFriendlyMessages = {\n                400: `Bad request. Please check your input. ${comment}`,\n                401: `Unauthorized. Please log in again. ${comment}`,\n                403: `Forbidden. You do not have the necessary permissions. ${comment}`,\n                404: `Resource not found. ${comment}`,\n                500: `Internal server error. Please try again later. ${comment}`,\n            };\n            \n            // Determine the message to display to the user\n            uiMessage = userFriendlyMessages[error.response?.status] \n                || serverMessage\n                || 'An unexpected error occurred.';\n            logMessage = serverMessage || 'An unexpected error occurred. From server';\n        } else {\n            uiMessage = error.uimessage\n                || error.message\n                || 'An unexpected error occurred.';\n            logMessage = error.logmessage \n                || error.message \n                || 'An unexpected error occurred.';\n        }\n    \n        setError({ uiMessage, logMessage });\n    }\n\n    provide('errors', {\n        uiError,\n        logError,\n        handleError,\n    });\n\n    return {handleError};\n}","import { render } from \"./App.vue?vue&type=template&id=539dd6bc\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=539dd6bc&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from 'vue';\nimport App from './App.vue';\n\nconst app = createApp(App);\n\napp.mount('#app');\n  ","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkvue_app\"] = self[\"webpackChunkvue_app\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(8714); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_createBlock","_component_TaskPage","class","_createElementVNode","_hoisted_1","_createVNode","_component_TaskList","parentId","includes","$setup","displayPanel","_component_TaskAdd","key","_component_TaskView","_component_ConfirmDialog","for","value","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_9","_hoisted_11","_createElementBlock","_hoisted_2","_hoisted_3","id","search","$event","placeholder","_hoisted_4","completion","onClick","_cache","args","applyFilter","displayAddTask","$props","displayDeleteConfirm","disabled","anyTaskSelected","_hoisted_13","_Fragment","_renderList","taskTree","task","_component_TaskItem","type","checked","selected","onChange","toggleTaskSelected","target","displayViewTask","name","_component_Spinner","loading","displayEditTask","_component_SwitchControl","completed","setNotCompleted","setCompleted","stringOn","stringOff","toggleTaskFold","folded","children","subtask","title","$data","isOn","$options","toggleSwitch","_normalizeClass","props","String","default","Boolean","data","this","methods","$emit","__exports__","components","SwitchControl","Spinner","Object","required","setup","displayCompletedConfirm","setSubtasksSelected","updateTask","inject","onUnmounted","Number","TaskItem","tasks","fetchTasks","ref","prevSearch","prevCompletion","page","onMounted","computed","buildTree","filter","parent_id","map","length","some","currentTask","_toDisplayString","parentName","nameError","_hoisted_8","_hoisted_10","_component_ImageUpload","image","image_path","onRemoveImage","handleRemoveImage","onNewImage","handleNewImage","onError","handleImageError","imageError","_hoisted_12","_hoisted_14","_component_VideoInput","onVideo_link","handleVideoUrl","handleVideoError","videoUrlError","_hoisted_15","isValid","submitForm","_hoisted_17","setPanelOff","_hoisted_18","selectImage","selectedImage","src","alt","removeImage","cancelImage","handleImageChange","style","$refs","fileInput","click","event","file","files","URL","createObjectURL","watch","newValue","inputUrl","onInput","validateUrl","_component_LiteYouTubeEmbed","videoId","LiteYouTubeEmbed","video_link","emits","emit","errorMessage","youtubeRegex","test","videoRegex","match","newUrl","ImageUpload","VideoInput","addTask","validateName","validateImage","newImage","size","validateVideoUrl","parentTask","find","message","url","async","newId","_ctx","confirmStatus","confirmStatuses","asking","question","slice","line","idx","accept","cancel","none","confirmed","canceled","useConfirm","success","confirmPromise","Promise","resolve","unwatch","newStatus","oldStatus","displayConfirmation","messages","action","provide","setTimeout","TaskList","TaskAdd","ConfirmDialog","TaskView","API_BASE_URL","process","VUE_APP_API_BASE_URL","TASKS_ENDPOINT","findDescendants","taskId","tree","descendants","push","concat","getBaseTask","useTasks","handleError","mergeTasks","newList","result","forEach","newItem","found","assign","getSelectedIds","setViewTaskOn","setAddTaskOn","setEditTaskOn","fetchTaskData","response","axios","get","error","Error","params","undefined","Array","isArray","fetched","formData","FormData","taskData","append","post","headers","put","deleteTasks","patch","tasksIds","completeTasks","toDelete","done","toComplete","useErrors","uiError","logError","setError","uiMessage","logMessage","console","comment","serverMessage","userFriendlyMessages","status","uimessage","logmessage","TaskPage","render","app","createApp","App","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","keys","every","splice","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","g","globalThis","Function","e","window","obj","prop","prototype","hasOwnProperty","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}